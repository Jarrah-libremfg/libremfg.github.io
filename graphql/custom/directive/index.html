<!doctype html><html lang=en class="js csstransforms3d"><head><script>var subPaths={"/clients/#implementation":"/clients/overview/#implementation","/clients/#transactions":"/clients/overview/#transactions","/clients/#create-the-client":"/clients/go/#create-the-client","/clients/#alter-the-database":"/clients/go/#alter-the-database","/clients/#create-a-transaction":"/clients/go/#create-a-transaction","/clients/#read-only-transactions":"/clients/go/#read-only-transactions","/clients/#run-a-query":"/clients/go/#run-a query","/clients/#run-a-mutation":"/clients/go/#run-a-mutation","/clients/#commit-the-transaction":"/clients/go/#commit-the-transaction","/clients/#complete-example":"/clients/go/#complete-example","/clients/#grpc":"/clients/javascript/#grpc","/clients/#http":"/clients/javascript#http","/clients/#create-the-client-1":"/clients/raw-http/#create-the-client-1","/clients/#alter-the-database-1":"/clients/raw-http/#alter-the-database-1","/clients/#start-a-transaction":"/clients/raw-http/#start-a-transaction","/clients/#run-a-query-1":"/clients/raw-http/#run-a-query","/clients/#run-a-mutation-1":"/clients/raw-http/#run-a-mutation","/clients/#committing-the-transaction":"/clients/raw-http/#committing-the-transaction","/clients/#aborting-the-transaction":"/clients/raw-http/#aborting-the-transaction","/clients/#running-read-only-queries":"/clients/raw-http/#running-read-only-queries","/clients/#running-best-effort-queries":"/clients/raw-http/#running-best-effort-queries","/clients/#compression-via-http":"/clients/raw-http/#compression-via-http","/clients/#run-a-query-in-json-format":"/clients/raw-http/#run-a-query-in-json-format","/deploy/#install-dgraph":"/deploy/download","/deploy/#docker":"/deploy/download/#docker","/deploy/#automatic-download":"/deploy/download/#automatic-download","/deploy/#manual-download-[optional]":"/deploy/download/#manual-download-[optional]","/deploy/#building-from-source":"/deploy/download/#building-from-source","/deploy/#understanding-dgraph-cluster":"/deploy/cluster-setup/#understanding-dgraph-cluster","/deploy/#sharding":"/deploy/cluster-setup/#sharding","/deploy/#shard-rebalancing":"/deploy/cluster-setup/#shard-rebalancing","/deploy/#consistent-replication":"/deploy/cluster-setup/#consistent-replication","/deploy/#types-of-ports":"/deploy/ports-usage/#types-of-ports","/deploy/#ports-used-by-different-nodes":"/deploy/ports-usage/#ports-used-by-different-nodes","/deploy/#ha-cluster-setup":"/deploy/ports-usage/#ha-cluster-setup","/deploy/#dgraph-zero":"/deploy/ports-usage/#dgraph-zero","/deploy/#dgraph-alpha":"/deploy/ports-usage/#dgraph-alpha","/deploy/#run-directly-on-the-host":"/deploy/single-host-setup/#run-directly-on-the-host","/deploy/#run-dgraph-zero":"/deploy/single-host-setup/#run-dgraph-zero","/deploy/#run-dgraph-alpha":"/deploy/single-host-setup/#run-dgraph-alpha","/deploy/#run-dgraph-ui":"/deploy/single-host-setup/#run-dgraph-ui","/deploy/#run-using-docker":"/deploy/single-host-setup/#run-using-docker","/deploy/#create-docker-network":"/deploy/single-host-setup/#create-docker-network","/deploy/#run-dgraph-zero":"/deploy/single-host-setup/#run-dgraph-zero","/deploy/#run-dgraph-alpha":"/deploy/single-host-setup/#run-dgraph-alpha","/deploy/#run-dgraph-ui":"/deploy/single-host-setup/#run-dgraph-ui","/deploy/#run-using-docker-compose-(on-single-aws-instance)":"/deploy/single-host-setup/#run-using-docker-compose-(on-single-aws-instance)","/deploy/#using-docker-swarm":"/deploy/multi-host-setup/#using-docker-swarm","/deploy/#cluster-setup-using-docker-swarm":"/deploy/multi-host-setup/#cluster-setup-using-docker-swarm","/deploy/#ha-cluster-setup-using-docker-swarm":"/deploy/multi-host-setup/#ha-cluster-setup-using-docker-swarm","/deploy/#single-server":"/deploy/kubernetes/#single-server","/deploy/#deploy-single-server":"/deploy/kubernetes/#deploy-single-server","/deploy/#verify-single-server":"/deploy/kubernetes/#verify-single-server","/deploy/#test-single-server-setup":"/deploy/kubernetes/#test-single-server-setup","/deploy/#remove-single-server-resources":"/deploy/kubernetes/#remove-single-server-resources","/deploy/#ha-cluster-setup-using-kubernetes":"/deploy/kubernetes/#ha-cluster-setup-using-kubernetes","/deploy/#validate-kubernetes-cluster-for-ha":"/deploy/kubernetes/#validate-kubernetes-cluster-for-ha","/deploy/#verify-dgraph-ha-cluster":"/deploy/kubernetes/#verify-dgraph-ha-cluster","/deploy/#test-dgraph-ha-cluster-setup":"/deploy/kubernetes/#test-dgraph-ha-cluster-setup","/deploy/#delete-dgraph-ha-cluster-resources":"/deploy/kubernetes/#delete-dgraph-ha-cluster-resources","/deploy/#using-helm-chart":"/deploy/kubernetes/#using-helm-chart","/deploy/#installing-the-chart":"/deploy/kubernetes/#installing-the-chart","/deploy/#upgrading-the-chart":"/deploy/kubernetes/#upgrading-the-chart","/deploy/#deleting-the-chart":"/deploy/kubernetes/#deleting-the-chart","/deploy/#configuration":"/deploy/kubernetes/#configuration","/deploy/#monitoring-in-kubernetes":"/deploy/kubernetes/#monitoring-in-kubernetes","/deploy/#kubernetes-storage":"/deploy/kubernetes/#kubernetes-storage","/deploy/#local-storage":"/deploy/kubernetes/#local-storage","/deploy/#non-local-persistent-disks":"/deploy/kubernetes/#non-local-persistent-disks","/deploy/#removing-a-dgraph-pod":"/deploy/kubernetes/#removing-a-dgraph-pod","/deploy/#kubernetes-and-bulk-loader":"/deploy/kubernetes/#kubernetes-and-bulk-loader","/deploy/#more-about-dgraph-alpha":"/deploy/dgraph-alpha","/deploy/#querying-health":"/deploy/dgraph-alpha/#querying-health","/deploy/#more-about-dgraph-zero":"/deploy/dgraph-zero","/deploy/#more-about-state-endpoint":"/deploy/dgraph-zero/#more-about-state-endpoint","/deploy/#query-logging":"/deploy/log-format/#query-logging","/deploy/#dgraph-certificate-management-tool":"/deploy/tls-configuration/#dgraph-certificate-management-tool","/deploy/#file-naming-conventions":"/deploy/tls-configuration/#file-naming-conventions","/deploy/#certificate-inspection":"/deploy/tls-configuration/#certificate-inspection","/deploy/#tls-options":"/deploy/tls-configuration/#tls-options","/deploy/#using-tls-without-client-authentication":"/deploy/tls-configuration/#using-tls-without-client-authentication","/deploy/#using-tls-with-client-authentication":"/deploy/tls-configuration/#using-tls-with-client-authentication","/deploy/#client-authentication-options":"/deploy/tls-configuration/#client-authentication-options","/deploy/#using-ratel-ui-with-client-authentication":"/deploy/tls-configuration/#using-ratel-ui-with-client-authentication","/deploy/#using-curl-with-client-authentication":"/deploy/tls-configuration/#using-curl-with-client-authentication","/deploy/#access-data-using-a-client":"/deploy/tls-configuration/#access-data-using-a-client","/deploy/#troubleshooting-ratel-s-client-authentication":"/deploy/tls-configuration/#troubleshooting-ratel-s-client-authentication","/deploy/#live-loader":"/deploy/fast-data-loading/#live-loader","/deploy/#encrypted-imports-via-live-loader":"/deploy/fast-data-loading/#encrypted-imports-via-live-loader","/deploy/#encrypted-rdf-json-file-and-schema-via-live-loader":"/deploy/fast-data-loading/#encrypted-rdf-json-file-and-schema-via-live-loader","/deploy/#other-live-loader-options":"/deploy/fast-data-loading/#other-live-loader-options","/deploy/#bulk-loader":"/deploy/fast-data-loading/#bulk-loader","/deploy/#encryption-at-rest-with-bulk-loader":"/deploy/fast-data-loading/#encryption-at-rest-with-bulk-loader","/deploy/#encrypting-imports-via-bulk-loader":"/deploy/fast-data-loading/#encrypting-imports-via-bulk-loader","/deploy/#other-bulk-loader-options":"/deploy/fast-data-loading/#other-bulk-loader-options","/deploy/#tuning-monitoring":"/deploy/fast-data-loading/#tuning-monitoring","/deploy/#disk-metrics":"/deploy/metrics/#disk-metrics","/deploy/#memory-metrics":"/deploy/metrics/#memory-metrics","/deploy/#activity-metrics":"/deploy/metrics/#activity-metrics","/deploy/#health-metrics":"/deploy/metrics/#health-metrics","/deploy/#go-metrics":"/deploy/metrics/#go-metrics","/deploy/#examining-traces-with-zpages":"/deploy/tracing/#examining-traces-with-zpages","/deploy/#examining-traces-with-jaeger":"/deploy/tracing/#examining-traces-with-jaeger","/deploy/#setting-up-multiple-dgraph-clusters-with-jaeger":"/deploy/tracing/#setting-up-multiple-dgraph-clusters-with-jaeger","/deploy/#whitelisting-admin-operations":"/deploy/dgraph-administration/#whitelisting-admin-operations","/deploy/#restricting-mutation-operations":"/deploy/dgraph-administration/#restricting-mutation-operations","/deploy/#securing-alter-operations":"/deploy/dgraph-administration/#securing-alter-operations","/deploy/#export-database":"/deploy/dgraph-administration/#exporting-database","/deploy/#encrypting-exports":"/deploy/dgraph-administration/#encrypting-exports","/deploy/#shutting-down-database":"/deploy/dgraph-administration/#shutting-down-database","/deploy/#deleting-database":"/deploy/dgraph-administration/#deleting-database","/deploy/#upgrading-database":"/deploy/dgraph-administration/#upgrading-database","/deploy/#upgrading-from-v1-2-2-to-v20-03-0-for-enterprise-customers":"/deploy/dgraph-administration/#upgrading-from-v1-2-2-to-v20-03-0-for-enterprise-customers","/deploy/#post-installation":"/deploy/dgraph-administration/#post-installation","/deploy/#running-oom-out-of-memory":"/deploy/troubleshooting/#running-oom-out-of-memory","/deploy/#too-many-open-files":"/deploy/troubleshooting/#too-many-open-files","/deploy/#cluster-requirements":"/deploy/production-checklist/#cluster-requirements","/deploy/#machine-requirements":"/deploy/production-checklist/#machine-requirements","/deploy/#operating-system":"/deploy/production-checklist/#operating-system","/deploy/#cpu-and-memory":"/deploy/production-checklist/#cpu-and-memory","/deploy/#disk":"/deploy/production-checklist/#disk","/deploy/#firewall-rules":"/deployproduction-checklist/#firewall-rules","/deploy/#operating-system-tuning":"/deploy/production-checklist/#operating-system-tuning","/deploy/#deployment":"/deploy/production-checklist/#deployment","/deploy/#terminology":"/deploy/production-checklist/#terminology","/deploy/#basic-setup-2-node-cluster":"/deploy/production-checklist/#basic-setup-2-node-cluster","/deploy/#ha-setup-6-node-cluster":"/deploy/production-checklist/#ha-setup-6-node-cluster","/deploy/#supplementary-services":"/deploy/production-checklist/#supplementary-services","/deploy/#see-also":"/deploy/","/query-language/#take-a-tour-https-tour-dgraph-io":"/query-language/graphql-fundamentals/#take-a-tour-https-tour-dgraph-io","/query-language/#running-examples":"/query-language/graphql-fundamentals/#running-examples","/query-language/#graphql-fundamentals":"/query-language/graphql-fundamentals/#graphql-fundamentals","/query-language/#returning-values":"/query-language/graphql-fundamentals/#returning-values","/query-language/#expanding-graph-edges":"/query-language/graphql-fundamentals/#expanding-graph-edges","/query-language/#comments":"/query-language/graphql-fundamentals/#comments","/query-language/#applying-filters":"/query-language/graphql-fundamentals/#applying-filters","/query-language/#language-support":"/query-language/graphql-fundamentals/#language-support","/query-language/#functions":"/query-language/functions","/query-language/#term-matching":"/query-language/functions/#term-matching","/query-language/#allofterms":"/query-language/functions/#allofterms","/query-language/#usage-at-root":"/query-language/functions/#usage-at-root","/query-language/#usage-as-filter":"/query-language/functions/#usage-as-filter","/query-language/#anyofterms":"/query-language/functions/#anyofterms","/query-language/#usage-at-root-1":"/query-language/functions/#usage-at-root-1","/query-language/#usage-as-filter-1":"/query-language/functions/#usage-as-filter-1","/query-language/#regular-expressions":"/query-language/functions/#regular-expressions","/query-language/#technical-details":"/query-language/functions/#technical-details","/query-language/#writing-efficient-regular-expressions-and-limitations":"/query-language/functions/#writing-efficient-regular-expressions-and-limitations","/query-language/#fuzzy-matching":"/query-language/functions/#fuzzy-matching","/query-language/#full-text-search":"/query-language/functions/#full-text-search","/query-language/#inequality":"/query-language/functions/#inequality","/query-language/#equal-to":"/query-language/functions/#equal-to","/query-language/#less-than-less-than-or-equal-to-greater-than-and-greater-than-or-equal-to":"/query-language/functions/#less-than-less-than-or-equal-to-greater-than-and-greater-than-or-equal-to","/query-language/#uid":"/query-language/functions/#uid","/query-language/#uid-in":"/query-language/functions/#uid-in","/query-language/#has":"/query-language/functions/#has","/query-language/#geolocation":"/query-language/functions/#geolocation","/query-language/#mutations":"/query-language/functions/#mutations","/query-language/#query":"/query-language/functions/#query","/query-language/#near":"/query-language/functions/#near","/query-language/#within":"/query-language/functions/#within","/query-language/#contains":"/query-language/functions/#contains","/query-language/#intersects":"/query-language/functions/#intersects","/query-language/#connecting-filters":"/query-language/connecting-filters/","/query-language/#and-or-and-not":"/query-language/connecting-filters/#and-or-and-not","/query-language/#alias":"/query-language/alias","/query-language/#pagination":"/query-language/pagination","/query-language/#first":"/query-language/pagination/#first","/query-language/#offset":"/query-language/paginatio/n#offset","/query-language/#after":"/query-language/pagination/#after","/query-language/#count":"/query-language/count","/query-language/#sorting":"/query-language/sorting","/query-language/#multiple-query-blocks":"/query-language/multiple-query-blocks","/query-language/#var-blocks":"/query-language/multiple-query-blocks/#var-blocks","/query-language/#query-variables":"/query-language/query-variables/","/query-language/#value-variables":"/query-language/value-variables/","/query-language/#variable-propagation":"/query-language/value-variables/#variable-propagation","/query-language/#aggregation":"/query-language/aggregation/","/query-language/#min":"/query-language/aggregation/#min","/query-language/#usage-at-root-2":"/query-language/aggregation/#usage-at-root-2","/query-language/#usage-at-other-levels":"/query-language/aggregation/#usage-at-other-levels","/query-language/#max":"/query-language/aggregation/#max","/query-language/#usage-at-root-3":"/query-language/aggregation/#usage-at-root-3","/query-language/#usage-at-other-levels-1":"/query-language/aggregation/#usage-at-other-levels-1","/query-language/#sum-and-avg":"/query-language/aggregation/#sum-and-avg","/query-language/#usage-at-root-4":"/query-language/aggregation/#usage-at-root-4","/query-language/#usage-at-other-levels-2":"/query-language/aggregation/#usage-at-other-levels-2","/query-language/#aggregating-aggregates":"/query-language/aggregation/#aggregating-aggregates","/query-language/#math-on-value-variables":"/query-language/math-on-value-variables/","/query-language/#groupby":"/query-language/groupby/","/query-language/#expand-predicates":"/query-language/expand-predicates/","/query-language/#filtering-during-expand":"/query-language/expand-predicates/#filtering-during-expand","/query-language/#cascade-directive":"/query-language/cascade-directive/","/query-language/#normalize-directive":"/query-language/normalize-directive/","/query-language/#ignorereflex-directive":"/query-language/ignorereflex-directive/","/query-language/#debug":"/query-language/debug/","/query-language/#schema":"/query-language/schema/","/query-language/#schema-types":"/query-language/schema/#schema-types","/query-language/#scalar-types":"/query-language/schema/#scalar-types","/query-language/#uid-type":"/query-language/schema/#uid-type","/query-language/#adding-or-modifying-schema":"/query-language/schema/#adding-or-modifying-schema","/query-language/#indexes-in-background":"/query-language/schema/#indexes-in-background","/query-language/#http-api":"/query-language/schema/#http-api","/query-language/#grpc-api":"/query-language/schema/#grpc-api","/query-language/#predicate-name-rules":"/query-language/schema/#predicate-name-rules","/query-language/#allowed-special-characters":"/query-language/schema/#allowed-special-characters","/query-language/#forbidden-special-characters":"/query-language/schema/#forbidden-special-characters","/query-language/#predicates-i18n":"/query-language/schema/#predicates-i18n","/query-language/#upsert-directive":"/query-language/schema/#upsert-directive","/query-language/#noconflict-directive":"/query-language/schema/#noconflict-directive","/query-language/#rdf-types":"/query-language/schema/#rdf-types","/query-language/#extended-types":"/query-language/schema/#extended-types","/query-language/#password-type":"/query-language/schema/#password-type","/query-language/#indexing":"/query-language/schema/#indexing","/query-language/#string-indices":"/query-language/schema/#string-indices","/query-language/#datetime-indices":"/query-language/schema/#datetime-indices","/query-language/#sortable-indices":"/query-language/schema/#sortable-indices","/query-language/#count-index":"/query-language/schema/#count-index","/query-language/#list-type":"/query-language/schema/#list-type","/query-language/#filtering-on-list":"/query-language/schema/#filtering-on-list","/query-language/#reverse-edges":"/query-language/schema/#reverse-edges","/query-language/#querying-schema":"/query-language/schema/#querying-schema","/query-language/#type-system":"/query-language/type-system/","/query-language/#type-definition":"/query-language/schema/#type-definition","/query-language/#setting-the-type-of-a-node":"/query-language/schema/#setting-the-type-of-a-node","/query-language/#using-types-during-queries":"/query-language/schema/#using-types-during-queries","/query-language/#deleting-a-type":"/query-language/schema/#deleting-a-type","/query-language/#expand-queries-and-types":"/query-language/schema/#expand-queries-and-types","/query-language/#facets-edge-attributes":"/query-language/facets/","/query-language/#facets-on-scalar-predicates":"/query-language/facets/#facets-on-scalar-predicates","/query-language/#facets-i18n":"/query-language/facets/#facets-i18n","/query-language/#alias-with-facets":"/query-language/facets/#alias-with-facets","/query-language/#facets-on-uid-predicates":"/query-language/facets/#facets-on-uid-predicates","/query-language/#filtering-on-facets":"/query-language/facets/#filtering-on-facets","/query-language/#sorting-using-facets":"/query-language/facets/#sorting-using-facets","/query-language/#assigning-facet-values-to-a-variable":"/query-language/facets/#assigning-facet-values-to-a-variable","/query-language/#facets-and-variable-propagation":"/query-language/facets/#facets-and-variable-propagation","/query-language/#facets-and-aggregation":"/query-language/facets/#facets-and-aggregation","/query-language/#k-shortest-path-queries":"/query-language/k-shortest-path-queries/","/query-language/#recurse-query":"/query-language/recurse-query/","/query-language/#fragments":"/query-language/fragments/","/query-language/#graphql-variables":"/query-language/graphql-variables/","/query-language/#indexing-with-custom-tokenizers":"/query-language/indexing-custom-tokenizers/","/query-language/#caveats":"/query-language/indexing-custom-tokenizers/#caveats","/query-language/#implementing-a-plugin":"/query-language/indexing-custom-tokenizers/#implementing-a-plugin","/query-language/#building-the-plugin":"/query-language/indexing-custom-tokenizers/#building-the-plugin","/query-language/#running-dgraph-with-plugins":"/query-language/indexing-custom-tokenizers/#running-dgraph-with-plugins","/query-language/#adding-the-index-to-the-schema":"/query-language/indexing-custom-tokenizers/#adding-the-index-to-the-schema","/query-language/#using-the-index-in-queries":"/query-language/indexing-custom-tokenizers/#using-the-index-in-queries","/query-language/#examples":"/query-language/indexing-custom-tokenizers/#examples","/query-language/#unicode-characters":"/query-language/indexing-custom-tokenizers/#unicode-characters","/query-language/#cidr-range":"/query-language/indexing-custom-tokenizers/#cidr-range","/query-language/#anagram":"/query-language/indexing-custom-tokenizers/#anagram","/query-language/#integer-prime-factors":"/query-language/indexing-custom-tokenizers/#integer-prime-factors","/design-concepts/#can-we-do-pre-writes-only-on-leaders":"/design-concepts/transactions-faq/","/design-concepts/#edges":"/design-concepts/concepts/#edges","/design-concepts/#posting-list":"/design-concepts/concepts/#posting-list","/design-concepts/#badger":"/design-concepts/concepts/#badger","/design-concepts/#group":"/design-concepts/concepts/#group","/design-concepts/#replication-and-server-failure":"/design-concepts/concepts/#replication-and-server-failure","/design-concepts/#new-server-and-discovery":"/design-concepts/concepts/#new-server-and-discovery","/design-concepts/#write-ahead-logs":"/design-concepts/concepts/#write-ahead-logs","/design-concepts/#mutations":"/design-concepts/concepts/#mutations","/design-concepts/#queries":"/design-concepts/concepts/#queries","/design-concepts/#network-calls":"/design-concepts/concepts/#network-calls","/design-concepts/#worker":"/design-concepts/concepts/#worker","/design-concepts/#worker-pool":"/design-concepts/concepts/#worker-pool","/design-concepts/#protocol-buffers":"/design-concepts/concepts/#protocol-buffers","/design-concepts/#sql-nosql":"/design-concepts/minimizing-network-calls/#sql-nosql","/design-concepts/#dgraph":"/design-concepts/minimizing-network-calls/#dgraph","/design-concepts/#term":"/design-concepts/raft/#dgraph","/design-concepts/#server-states":"/design-concepts/raft/#server-states","/design-concepts/#communication":"/design-concepts/raft/#communication","/design-concepts/#log-entries":"/design-concepts/raft/#log-entries","/design-concepts/#voting":"/design-concepts/raft/#voting","/design-concepts/#cluster-membership":"/design-concepts/raft/#cluster-membership","/design-concepts/#log-compaction":"/design-concepts/raft/#log-compaction","/design-concepts/#clients":"/design-concepts/raft/#clients","/design-concepts/#linearizable-semantics":"/design-concepts/raft/#linearizable-semantics","/design-concepts/#read-only-queries":"/design-concepts/raft/#read-only-queries","/mutations/#deletion-of-non-list-predicates":"/mutations/delete/#deletion-of-non-list-predicates","/mutations/#setting-literal-values":"/mutations/json-mutation-format/#setting-literal-values","/mutations/#language-support":"/mutations/json-mutation-format/#language-support","/mutations/#geolocation-support":"/mutations/json-mutation-format/#geolocation-support","/mutations/#referencing-existing-nodes":"/mutations/json-mutation-format/#referencing-existing-nodes","/mutations/#edges-between-nodes":"/mutations/json-mutation-format/#edges-between-nodes","/mutations/#deleting-literal-values":"/mutations/json-mutation-format/#deleting-literal-values","/mutations/#deleting-edges":"/mutations/json-mutation-format/#deleting-edges","/mutations/#facets":"/mutations/json-mutation-format/#facets","/mutations/#deleting-facets":"/mutations/json-mutation-format/#deleting-facets","/mutations/#creating-a-list-with-json-and-interacting-with":"/mutations/json-mutation-format/#creating-a-list-with-json-and-interacting-with","/mutations/#facets-in-list-type-with-json":"/mutations/json-mutation-format/#facets-in-list-type-with-json","/mutations/#specifying-multiple-operations":"/mutations/json-mutation-format/#specifying-multiple-operations","/mutations/#json-syntax-using-raw-http-or-ratel-ui":"/mutations/json-mutation-format/#json-syntax-using-raw-http-or-ratel-ui","/mutations/#using-json-operations-via-curl":"/mutations/json-mutation-format/#using-json-operations-via-curl","/mutations/#uid-function":"/mutations/upsert-block/#uid-function","/mutations/#val-function":"/mutations/upsert-block/#val-function","/mutations/#example-of-uid-function":"/mutations/upsert-block/#example-of-uid-function","/mutations/#example-of-val-function":"/mutations/upsert-block/#example-of-val-function","/mutations/#bulk-delete-example":"/mutations/upsert-block/#bulk-delete-example","/mutations/#example-of-conditional-upsert":"/mutations/conditional-upsert/#example-of-conditional-upsert","/mutations/#example-of-multiple-mutation-blocks":"/mutations/conditional-upsert/#example-of-multiple-mutation-blocks","/enterprise-features/#configure-backup":"/enterprise-features/binary-backups/#configure-backup","/enterprise-features/#configure-amazon-s3-credentials":"/enterprise-features/binary-backups/#configure-amazon-s3-credentials","/enterprise-features/#configure-minio-credentials":"/enterprise-features/binary-backups/#configure-minio-credentials","/enterprise-features/#create-a-backup":"/enterprise-features/binary-backups/#create-a-backup","/enterprise-features/#backup-to-amazon-s3":"/enterprise-features/binary-backups/#backup-to-amazon-s3","/enterprise-features/#backup-to-minio":"/enterprise-features/binary-backups/#backup-to-minio","/enterprise-features/#backup-to-minio":"/enterprise-features/binary-backups/#backup-to-minio","/enterprise-features/#backup-to-google-cloud-storage-via-minio-gateway":"/enterprise-features/binary-backups/#backup-to-google-cloud-storage-via-minio-gateway","/enterprise-features/#test-using-minio-browser":"/enterprise-features/binary-backups/#test-using-minio-browser","/enterprise-features/#test-using-minio-client":"/enterprise-features/binary-backups/#test-using-minio-client","/enterprise-features/#disabling-https-for-s3-and-minio-backups":"/enterprise-features/binary-backups/#disabling-https-for-s3-and-minio-backups","/enterprise-features/#overriding-credentials":"/enterprise-features/binary-backups/#overriding-credentials","/enterprise-features/#backup-to-nfs":"/enterprise-features/binary-backups/#backup-to-nfs","/enterprise-features/#forcing-a-full-backup":"/enterprise-features/binary-backups/#forcing-a-full-backup","/enterprise-features/#encrypted-backups":"/enterprise-features/binary-backups/#encrypted-backups","/enterprise-features/#new-flag-“encrypted”-in-manifest.json":"/enterprise-features/binary-backups/#new-flag-“encrypted”-in-manifest.json","/enterprise-features/#aes-and-chaining-with-gzip":"/enterprise-features/binary-backups/#aes-and-chaining-with-gzip","/enterprise-features/#backup":"/enterprise-features/binary-backups/#backup","/enterprise-features/#restore-from-backup":"/enterprise-features/binary-backups/#restore-from-backup","/enterprise-features/#restore-from-amazon-s3":"/enterprise-features/binary-backups/#restore-from-amazon-s3","/enterprise-features/#restore-from-minio":"/enterprise-features/binary-backups/#restore-from-minio","/enterprise-features/#restore-from-local-directory-or-nfs":"/enterprise-features/binary-backups/#restore-from-local-directory-or-nfs","/enterprise-features/#restore-and-update-timestamp":"/enterprise-features/binary-backups/#restore-and-update-timestamp","/enterprise-features/#turn-on-acls":"/enterprise-features/access-control-lists/#turn-on-acls","/enterprise-features/#set-up-acl-rules":"/enterprise-features/access-control-lists/#set-up-acl-rules","/enterprise-features/#using-graphql-admin-api":"/enterprise-features/access-control-lists/#using-graphql-admin-api","/enterprise-features/#retrieve-users-and-groups-information":"/enterprise-features/access-control-lists/#retrieve-users-and-groups-information","/enterprise-features/#using-a-graphql-tool":"/enterprise-features/access-control-lists/#using-a-graphql-tool","/enterprise-features/#access-data-using-a-client":"/enterprise-features/access-control-lists/#access-data-using-a-client","/enterprise-features/#access-data-using-the-graphql-api":"/enterprise-features/access-control-lists/#access-data-using-the-graphql-api","/enterprise-features/#reset-groot-password":"/enterprise-features/access-control-lists/#reset-groot-password","/enterprise-features/#set-up-encryption":"/enterprise-features/encryption-at-rest/#set-up-encryption","/enterprise-features/#turn-on-encryption":"/enterprise-features/encryption-at-rest/#turn-on-encryption","/enterprise-features/#turn-off-encryption":"/enterprise-features/encryption-at-rest/#turn-off-encryption","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/howto/#metrics-information":"/howto/retrieving-debug-information/#metrics-information","/howto/#profiling-information":"/howto/retrieving-debug-information/#profiling-information","/howto/#cpu-profile":"/howto/retrieving-debug-information/#cpu-profile","/howto/#memory-profile":"/howto/retrieving-debug-information/#memory-profile","/howto/#block-profile":"/howto/retrieving-debug-information/#block-profile","/howto/#goroutine-stack":"/howto/retrieving-debug-information/#goroutine-stack","/howto/#example-usage":"/howto/using-debug-tool/#example-usage","/howto/#debug-tool-output":"/howto/using-debug-tool/#debug-tool-output","/howto/#key-lookup":"/howto/using-debug-tool/#key-lookup","/howto/#key-history":"/howto/using-debug-tool/#key-history","/howto/#basic-integration":"/howto/dgraph-sentry-integration/#basic-integration","/howto/#data-handling":"/howto/dgraph-sentry-integration/#data-handling","/howto/#example-usage":"/howto/using-increment-tool/#example-usage","/howto/#increment-tool-output":"/howto/using-increment-tool/#increment-tool-output","/howto/#download-zip":"/howto/load-balancing-nginx/#download-zip","/howto/#start-dgraph-cluster":"/howto/load-balancing-nginx/#start-dgraph-cluster","/howto/#use-the-increment-tool-to-start-a-grpc-lb":"/howto/load-balancing-nginx/#use-the-increment-tool-to-start-a-grpc-lb","/howto/#check-logs":"/howto/load-balancing-nginx/#check-logs","/howto/#upsert-procedure":"/howto/upserts/#upsert-procedure","/howto/#upsert-block":"/howto/upserts/#upsert-block","/howto/#conflicts":"/howto/upserts/#conflicts","/howto/#schema-types-scalar-uid-and-list-uid":"/howto/migrate-dgraph-1-1/#schema-types-scalar-uid-and-list-uid","/howto/#type-system":"/howto/migrate-dgraph-1-1/#type-system","/howto/#live-loader-and-bulk-loader-command-line-flags":"/howto/migrate-dgraph-1-1/#live-loader-and-bulk-loader-command-line-flags","/howto/#http-api":"/howto/migrate-dgraph-1-1/#http-api"},urlSplit,origPath,redirectPaths=["clients","query-language","mutations","deploy","enterprise-features","howto","design-concepts"],pathSplit=document.URL.split("/");redirectPaths.includes(pathSplit[pathSplit.length-2])&&(urlSplit=pathSplit[pathSplit.length-1].split("#"),origPath="/"+pathSplit[pathSplit.length-2]+"/#"+urlSplit[1],origPath in subPaths?(loc=""+subPaths[origPath],window.location.replace(loc)):urlSplit[1]&&(loc=""+pathSplit.slice(4,pathSplit.length-1).join("/")+"/#"+urlSplit[1],window.location.replace(loc)))</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=referrer content="no-referrer-when-downgrade"><meta name=generator content="Hugo 0.101.0"><meta name=description content="The @custom directive is used to define custom queries, mutations, and fields. The result types can be local or remote."><link rel=canonical href=/graphql/custom/directive/><link rel=apple-touch-icon sizes=57x57 href=/images/favicons/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/images/favicons/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/images/favicons/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/images/favicons/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/images/favicons/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/images/favicons/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/images/favicons/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/images/favicons/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/images/favicons/favicon-194x194.png sizes=194x194><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=manifest href=/images/favicons/manifest.json><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#fe2c06><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/go.min.js></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/java.min.js integrity="sha256-RyOs5MjQ+Ef9DQrPHp4QGr2tcNjxLh6mCkkW+sS4doU=" crossorigin=anonymous></script>
<script src=//code.jquery.com/jquery-3.2.1.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.js integrity="sha256-x3BtPVERvw1ozPlwivuFLZoViFCeAAs1Gt6SxEedmo8=" crossorigin=anonymous></script>
<link href=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.css rel=stylesheet integrity="sha256-7sZe9dsqyNZC9Mk+WPRB7nVvPPPXyorzm2QKqlgXC4k=" crossorigin=anonymous><script async src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/edit/closebrackets.min.js integrity="sha256-qhu2a7DSpQaammMaLw1iruxBpxmgdw8mdQaQWQUokcY=" crossorigin=anonymous></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/javascript/javascript.min.js integrity="sha256-7Bdg/UdDMmHDPafpQDYZNPCEbnRP7eAvu+2hEoqRCXs=" crossorigin=anonymous></script>
<script>window.DGRAPH_ENDPOINT="https://play.dgraph.io/query?latency=true"</script><title>The @custom Directive - GraphQL</title><link href=/css/theme.css?6a79ff0832398fa8541cbaef6b6dd556 rel=stylesheet><link href=/css/runnable.css?46648956d99faa2e057d109b9f2a52e6 rel=stylesheet><link href=/css/tabs.css?035edc32762cb7973b740e3067101ced rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css rel=stylesheet integrity=sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ crossorigin=anonymous><script src=//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js integrity=sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb crossorigin=anonymous></script>
<script src=//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js integrity=sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn crossorigin=anonymous></script>
<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link href=https://cdn.lineicons.com/2.0/LineIcons.css rel=stylesheet crossorigin=anonymous><link rel=stylesheet href=//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><script>!function(){var t,n,e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(t=0;t<e.methods.length;t++)n=e.methods[t],e[n]=e.factory(n);e.load=function(t,n){var o,s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(s,o),e._loadOptions=n},e._writeKey="aQlf725vSBKhpQnINiGBc6rCtFyVCiAP",e.SNIPPET_VERSION="4.13.2",e.load("aQlf725vSBKhpQnINiGBc6rCtFyVCiAP"),e.page(),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll("a");t.forEach(t=>e.trackLink(t,"Click",{id:t.id,to:t.href,text:t.innerText}))})}}()</script></head><body><nav id=header><div class=header-left><div><a href=https://libremfg.com/features-gql class=brand><img src=/images/libre-logo.png alt=libre class=logo></a><div class=logo-tagline><span>Documentation</span></div></div><ul class=menu><li><a>Libre Baas</a></li></ul></div><div class=header-right><div style=margin-top:10px><div class="menu-search align-middle"><div class=menu-search-inner><input type=search class="form-control form-control-sm" id=algolia-doc-search placeholder="Search documentation" aria-label="Search docs" autocomplete=off></div></div></div><div><ul class=menu><li><a href=https://libremfg.com/features-gql target=_blank>Home</a></li><li><a href=https://www.libremfg.com/pricing-gql/ target=_blank>Pricing</a></li><li><a href=https://discord.gg/vtJ7JE4sha target=_blank>Community</a></li><li><a href=https://github.com/libremfg/libremfg.github.io target=_blank>GitHub</a></li></ul></div></div><a href=# id=sidebar-toggle><i class="fa fa-bars"></i></a></nav><aside id=sidebar><div class=menu-header></div><ul class=topics><li class="topic main-topic"><a href=/>Home</a></li><li class="topic main-topic"><a href=/dgraph-overview/>Dgraph Overview</a></li><li class="topic main-topic children active"><a id=graphql href=#>GraphQL</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/quick-start/>Quick Start</a></li><li class="topic sub-topic"><a href=/graphql/how-dgraph-graphql-works/>How GraphQL works in Dgraph</a></li><li class="topic sub-topic"><a href=#>To-Do List App Tutorial</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-schema-design/>Schema Design</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-ui/>Creating a Basic UI</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-auth-rules/>Authorization Rules</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-auth0-jwt/>Using Auth0</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-firebase-jwt/>Using Firebase Authentication</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/deploy/>Deploying on Dgraph Cloud</a></li></ul></li><li class="topic sub-topic"><a href=#>Authorization</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/authorization/authorization-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/authorization/directive/>The @auth Directive</a></li><li class="topic sub-topic"><a href=/graphql/authorization/mutations/>Mutations</a></li></ul></li><li class="topic sub-topic"><a href=#>API</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/api/api-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/api/requests/>Requests and Responses</a></li><li class="topic sub-topic"><a href=/graphql/api/variables/>GraphQL Variables</a></li><li class="topic sub-topic"><a href=/graphql/api/fragments/>GraphQL Fragments</a></li><li class="topic sub-topic"><a href=/graphql/api/multiples/>Multiple GraphQL Operations in a Request</a></li><li class="topic sub-topic"><a href=/graphql/api/errors/>GraphQL Errors</a></li></ul></li><li class="topic sub-topic"><a href=#>Schema</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/schema/schema-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/schema/reserved/>Reserved Names</a></li><li class="topic sub-topic"><a href=/graphql/schema/migration/>Schema Migration</a></li><li class="topic sub-topic"><a href=/graphql/schema/types/>Types</a></li><li class="topic sub-topic"><a href=/graphql/schema/ids/>IDs</a></li><li class="topic sub-topic"><a href=/graphql/schema/graph-links/>Links in the Graph</a></li><li class="topic sub-topic"><a href=/graphql/schema/search/>Search and Filtering</a></li><li class="topic sub-topic"><a href=/graphql/schema/generate/>The @generate Directive</a></li><li class="topic sub-topic"><a href=/graphql/schema/documentation/>Documentation and Comments</a></li><li class="topic sub-topic"><a href=/graphql/schema/deprecated/>Deprecation</a></li><li class="topic sub-topic"><a href=/graphql/schema/dgraph-schema/>Dgraph Schema Fragment</a></li></ul></li><li class="topic sub-topic"><a href=#>Queries</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/queries/queries-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/queries/search-filtering/>Search and Filtering</a></li><li class="topic sub-topic"><a href=/graphql/queries/aggregate/>Aggregate Queries</a></li><li class="topic sub-topic"><a href=/graphql/queries/persistent-queries/>Persistent Queries</a></li><li class="topic sub-topic"><a href=/graphql/queries/and-or-not/>And, Or and Not</a></li><li class="topic sub-topic"><a href=/graphql/queries/cached-results/>Cached Results</a></li><li class="topic sub-topic"><a href=/graphql/queries/order-page/>Order and Pagination</a></li><li class="topic sub-topic"><a href=/graphql/queries/cascade/>@cascade Directive</a></li><li class="topic sub-topic"><a href=/graphql/queries/skip-include/>@skip and @include Directives</a></li></ul></li><li class="topic sub-topic"><a href=#>Mutations</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/mutations/mutations-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/mutations/add/>Add</a></li><li class="topic sub-topic"><a href=/graphql/mutations/upsert/>Upsert</a></li><li class="topic sub-topic"><a href=/graphql/mutations/update/>Update</a></li><li class="topic sub-topic"><a href=/graphql/mutations/delete/>Delete</a></li><li class="topic sub-topic"><a href=/graphql/mutations/deep/>Deep</a></li></ul></li><li class="topic sub-topic"><a href=/graphql/subscriptions/>Subscriptions</a></li><li class="topic sub-topic active"><a href=#>Custom Resolvers</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/custom/custom-overview/>Overview</a></li><li class="topic sub-topic active"><a href=/graphql/custom/directive/>The @custom Directive</a></li><li class="topic sub-topic"><a href=/graphql/custom/query/>Custom Queries</a></li><li class="topic sub-topic"><a href=/graphql/custom/mutation/>Custom Mutations</a></li><li class="topic sub-topic"><a href=/graphql/custom/field/>Custom Fields</a></li><li class="topic sub-topic"><a href=/graphql/custom/dql/>Custom DQL</a></li></ul></li><li class="topic sub-topic"><a href=#>Lambda Resolvers</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/lambda/overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/lambda/field/>Lambda Fields</a></li><li class="topic sub-topic"><a href=/graphql/lambda/query/>Lambda Queries</a></li><li class="topic sub-topic"><a href=/graphql/lambda/mutation/>Lambda Mutations</a></li><li class="topic sub-topic"><a href=/graphql/lambda/webhook/>Lambda Webhooks</a></li><li class="topic sub-topic"><a href=/graphql/lambda/server/>Lambda Server</a></li></ul></li><li class="topic sub-topic"><a href=/graphql/directives/>Directives</a></li><li class="topic sub-topic"><a href=/graphql/admin/>Administrative API</a></li><li class="topic sub-topic"><a href=/graphql/dgraph/>GraphQL on Existing Dgraph</a></li><li class="topic sub-topic"><a href=/graphql/federation/>Apollo Federation</a></li></ul></li><li class="topic main-topic children"><a id=deploy-and-manage href=#>Deploy and Manage</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/overview/>Deployment and Management Overview</a></li><li class="topic sub-topic"><a href=/deploy/download/>Download Dgraph</a></li><li class="topic sub-topic"><a href=/deploy/config/>Configuration</a></li><li class="topic sub-topic"><a href=/deploy/dgraph-zero/>More about Dgraph Zero</a></li><li class="topic sub-topic"><a href=/deploy/dgraph-alpha/>More about Dgraph Alpha</a></li><li class="topic sub-topic"><a href=/deploy/single-host-setup/>Single Host Setup</a></li><li class="topic sub-topic"><a href=/deploy/multi-host-setup/>Multi-Host Setup</a></li><li class="topic sub-topic"><a href=/deploy/kubernetes/>Using Kubernetes</a></li><li class="topic sub-topic"><a href=/deploy/cluster-setup/>Cluster Setup</a></li><li class="topic sub-topic"><a href=/deploy/cluster-checklist/>Cluster Checklist</a></li><li class="topic sub-topic"><a href=/deploy/production-checklist/>Production Checklist</a></li><li class="topic sub-topic"><a href=#>Administration</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/dgraph-administration/>Dgraph Administration</a></li><li class="topic sub-topic"><a href=/deploy/log-format/>Logging</a></li><li class="topic sub-topic"><a href=/deploy/ludicrous-mode/>Ludicrous Mode</a></li><li class="topic sub-topic"><a href=/deploy/monitoring/>Monitoring</a></li><li class="topic sub-topic"><a href=/deploy/metrics/>Metrics</a></li><li class="topic sub-topic"><a href=/deploy/tracing/>Tracing</a></li><li class="topic sub-topic"><a href=/deploy/data-compression/>Data compression on Disk</a></li></ul></li><li class="topic sub-topic"><a href=#>Fast Data Loading</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/fast-data-loading/overview/>Overview</a></li><li class="topic sub-topic"><a href=/deploy/fast-data-loading/bulk-loader/>Bulk Loader</a></li><li class="topic sub-topic"><a href=/deploy/fast-data-loading/live-loader/>Live Loader</a></li></ul></li><li class="topic sub-topic"><a href=#>Security</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/ports-usage/>Ports Usage</a></li><li class="topic sub-topic"><a href=/deploy/tls-configuration/>TLS Configuration</a></li></ul></li><li class="topic sub-topic"><a href=/deploy/decrypt/>Data Decryption</a></li><li class="topic sub-topic"><a href=/deploy/cli-command-reference/>Dgraph CLI Reference</a></li><li class="topic sub-topic"><a href=/deploy/troubleshooting/>Troubleshooting</a></li></ul></li><li class="topic main-topic children"><a id=enterprise-features href=#>Enterprise Features</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/enterprise-features/access-control-lists/>Access Control Lists</a></li><li class="topic sub-topic"><a href=/enterprise-features/audit-logs/>Audit Logging</a></li><li class="topic sub-topic"><a href=/enterprise-features/lsbackup/>Backup List Tool</a></li><li class="topic sub-topic"><a href=/enterprise-features/binary-backups/>Binary Backups</a></li><li class="topic sub-topic"><a href=/enterprise-features/change-data-capture/>Change Data Capture</a></li><li class="topic sub-topic"><a href=/enterprise-features/encryption-at-rest/>Encryption at Rest</a></li><li class="topic sub-topic"><a href=/enterprise-features/learner-nodes/>Learner Nodes</a></li><li class="topic sub-topic"><a href=/enterprise-features/license/>License</a></li><li class="topic sub-topic"><a href=/enterprise-features/multitenancy/>Multi-Tenancy</a></li></ul></li><li class="topic main-topic children"><a id=migration href=#>Migration</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/migration/loading-csv-data/>Loading CSV Data</a></li><li class="topic sub-topic"><a href=/migration/migrate-tool/>Migration Tool</a></li><li class="topic sub-topic"><a href=/migration/migrate-dgraph-1-1/>Migrate from Dgraph v1.0</a></li><li class="topic sub-topic"><a href=/migration/dgraph-compared-to-other-databases/>Dgraph Compared to Other Databases</a></li></ul></li><li class="topic main-topic"><a href=/faq/>FAQ</a></li><li class="topic main-topic children"><a id=how-to-guides href=#>How To Guides</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/howto/retrieving-debug-information/>Retrieving Debug Information</a></li><li class="topic sub-topic"><a href=/howto/completion/>Shell Completion</a></li><li class="topic sub-topic"><a href=/howto/using-debug-tool/>Using the Debug Tool</a></li><li class="topic sub-topic"><a href=/howto/dgraph-sentry-integration/>Using the Dgraph Sentry Integration</a></li><li class="topic sub-topic"><a href=/howto/using-increment-tool/>Using the Increment Tool</a></li><li class="topic sub-topic"><a href=/howto/giving-nodes-type/>Giving Nodes a Type</a></li><li class="topic sub-topic"><a href=/howto/login-system/>A Simple Login System</a></li><li class="topic sub-topic"><a href=/howto/load-balancing-nginx/>Load Balancing Queries with NGINX</a></li><li class="topic sub-topic"><a href=/howto/upserts/>Upserts</a></li><li class="topic sub-topic"><a href=/howto/jepsen-tests/>Run Jepsen Tests</a></li><li class="topic sub-topic"><a href=/howto/lambda-webhooks-example/>Lambda Webhooks Example</a></li></ul></li><li class="topic main-topic children"><a id=design-concepts href=#>Design Concepts</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/design-concepts/transactions-faq/>Transactions: FAQ</a></li><li class="topic sub-topic"><a href=/design-concepts/consistency-model/>Consistency Model</a></li><li class="topic sub-topic"><a href=/design-concepts/concepts/>Concepts</a></li><li class="topic sub-topic"><a href=/design-concepts/minimizing-network-calls/>How Dgraph Minimizes Network Calls</a></li><li class="topic sub-topic"><a href=/design-concepts/raft/>RAFT</a></li></ul></li><li class="topic main-topic"><a href=/releases/>Releases</a></li><li class="topic main-topic children"><a id=dql href=#>dql</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/get-started/>Get Started</a></li><li class="topic sub-topic"><a href=/tutorials/>Tutorials</a></li><li class="topic sub-topic"><a href=#>Query Language Reference</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/query-language/graphql-fundamentals/>DQL Fundamentals</a></li><li class="topic sub-topic"><a href=/query-language/functions/>Functions</a></li><li class="topic sub-topic"><a href=/query-language/connecting-filters/>Connecting Filters</a></li><li class="topic sub-topic"><a href=/query-language/alias/>Aliases</a></li><li class="topic sub-topic"><a href=/query-language/pagination/>Pagination in DQL</a></li><li class="topic sub-topic"><a href=/query-language/count/>Count</a></li><li class="topic sub-topic"><a href=/query-language/sorting/>Sorting</a></li><li class="topic sub-topic"><a href=/query-language/multiple-query-blocks/>Multiple Query Blocks</a></li><li class="topic sub-topic"><a href=/query-language/query-variables/>Query Variables</a></li><li class="topic sub-topic"><a href=/query-language/value-variables/>Value Variables</a></li><li class="topic sub-topic"><a href=/query-language/aggregation/>Aggregation</a></li><li class="topic sub-topic"><a href=/query-language/math-on-value-variables/>Math on Value Variables</a></li><li class="topic sub-topic"><a href=/query-language/groupby/>GroupBy</a></li><li class="topic sub-topic"><a href=/query-language/expand-predicates/>Expand Predicates</a></li><li class="topic sub-topic"><a href=/query-language/cascade-directive/>Cascade Directive</a></li><li class="topic sub-topic"><a href=/query-language/normalize-directive/>@normalize Directive</a></li><li class="topic sub-topic"><a href=/query-language/ignorereflex-directive/>@ignorereflex Directive</a></li><li class="topic sub-topic"><a href=/query-language/debug/>Debug</a></li><li class="topic sub-topic"><a href=/query-language/schema/>Schemas in DQL</a></li><li class="topic sub-topic"><a href=/query-language/type-system/>Type System</a></li><li class="topic sub-topic"><a href=/query-language/facets/>Facets and Edge Attributes</a></li><li class="topic sub-topic"><a href=/query-language/kshortest-path-quries/>Shortest Path Queries</a></li><li class="topic sub-topic"><a href=/query-language/recurse-query/>Recurse Query</a></li><li class="topic sub-topic"><a href=/query-language/fragments/>Fragments</a></li><li class="topic sub-topic"><a href=/query-language/graphql-variables/>GraphQL Variables</a></li><li class="topic sub-topic"><a href=/query-language/indexing-custom-tokenizers/>Indexing with Custom Tokenizers</a></li></ul></li><li class="topic sub-topic"><a href=/tips/>Tips and Tricks</a></li><li class="topic sub-topic"><a href=#>Mutations</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/mutations/triples/>Triples</a></li><li class="topic sub-topic"><a href=/mutations/blank-nodes/>Blank Nodes and UIDs</a></li><li class="topic sub-topic"><a href=/mutations/external-ids/>External IDs</a></li><li class="topic sub-topic"><a href=/mutations/external-ids-upsert-block/>External IDs and Upsert Block</a></li><li class="topic sub-topic"><a href=/mutations/language-rdf-types/>Language and RDF Types</a></li><li class="topic sub-topic"><a href=/mutations/batch-mutations/>Batch Mutations</a></li><li class="topic sub-topic"><a href=/mutations/delete/>Delete</a></li><li class="topic sub-topic"><a href=/mutations/facets-in-list-type-with-rdf/>Facet Lists in RDF</a></li><li class="topic sub-topic"><a href=/mutations/mutations-using-curl/>Mutations Using cURL</a></li><li class="topic sub-topic"><a href=/mutations/json-mutation-format/>JSON Mutation Format</a></li><li class="topic sub-topic"><a href=/mutations/upsert-block/>Upsert Blocks</a></li><li class="topic sub-topic"><a href=/mutations/conditional-upsert/>Conditional Upsert</a></li><li class="topic sub-topic"><a href=/mutations/reverse-edges/>Reverse Edges</a></li></ul></li></ul></li></ul><ul class=sidebar-menu><li><a href=https://dgraph.io/ target=_blank>Home</a></li><li><a href=https://discuss.dgraph.io/ target=_blank>Community</a></li><li><a href=https://github.com/dgraph-io/dgraph target=_blank>GitHub</a></li></ul></aside><main class=content-wrapper><div class=content><div class=top-toc><nav id=TableOfContents><ul><li><a href=#dgraphsecret>Dgraph.Secret</a></li><li><a href=#the-url-and-method>The URL and method</a></li><li><a href=#the-body>The body</a></li><li><a href=#calling-graphql-custom-resolvers>Calling GraphQL custom resolvers</a></li><li><a href=#remote-types>Remote types</a><ul><li><a href=#remoteresponse-directive>RemoteResponse directive</a></li></ul></li><li><a href=#how-dgraph-processes-custom-results>How Dgraph processes custom results</a></li><li><a href=#how-errors-from-custom-endpoints-are-handled>How errors from custom endpoints are handled</a></li><li><a href=#how-custom-fields-are-resolved>How custom fields are resolved</a></li><li><a href=#restrictions--roadmap>Restrictions / Roadmap</a></li></ul></nav></div><article><a class=question-btn target=_blank href=https://discuss.dgraph.io/c/docs/49><i class="fa fa-question-circle"></i> Ask a Question</a><h1 class=post-title>The @custom Directive</h1><div><p>The <code>@custom</code> directive is used to define custom queries, mutations and fields.</p><p>In all cases, the result type (of the query, mutation or field) can be either:</p><ul><li>a type that&rsquo;s stored in Dgraph (that&rsquo;s any type you&rsquo;ve defined in your schema), or</li><li>a type that&rsquo;s not stored in Dgraph and is marked with the <code>@remote</code> directive.</li></ul><p>Because the result types can be local or remote, you can call other HTTP endpoints, call remote GraphQL, or even call back to your Dgraph instance to add extra logic on top of Dgraph&rsquo;s graph search or mutations.</p><p>Here&rsquo;s the GraphQL definition of the directives:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>directive</span> @custom(http: <span style=color:#2b91af>CustomHTTP</span>) <span style=color:#00f>on</span> <span style=color:#00f>FIELD_DEFINITION</span>
</span></span><span style=display:flex><span><span style=color:#00f>directive</span> @remote <span style=color:#00f>on</span> <span style=color:#00f>OBJECT</span> | <span style=color:#00f>INTERFACE</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>input</span> <span style=color:#2b91af>CustomHTTP</span> {
</span></span><span style=display:flex><span>	url: <span style=color:#2b91af>String</span>!
</span></span><span style=display:flex><span>	method: <span style=color:#2b91af>HTTPMethod</span>!
</span></span><span style=display:flex><span>	body: <span style=color:#2b91af>String</span>
</span></span><span style=display:flex><span>	graphql: <span style=color:#2b91af>String</span>
</span></span><span style=display:flex><span>	mode: <span style=color:#2b91af>Mode</span>
</span></span><span style=display:flex><span>	forwardHeaders: [<span style=color:#2b91af>String</span>!]
</span></span><span style=display:flex><span>	secretHeaders: [<span style=color:#2b91af>String</span>!]
</span></span><span style=display:flex><span>	introspectionHeaders: [<span style=color:#2b91af>String</span>!]
</span></span><span style=display:flex><span>	skipIntrospection: <span style=color:#2b91af>Boolean</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>enum</span> <span style=color:#2b91af>HTTPMethod</span> { GET POST PUT PATCH DELETE }
</span></span><span style=display:flex><span><span style=color:#00f>enum</span> <span style=color:#2b91af>Mode</span> { SINGLE BATCH }
</span></span></code></pre></div><p>Each definition of custom logic must include:</p><ul><li>the <code>url</code> where the custom logic is called. This can include a path and parameters that depend on query/mutation arguments or other fields.</li><li>the HTTP <code>method</code> to use in the call. For example, when calling a REST endpoint with <code>GET</code>, <code>POST</code>, etc.</li></ul><p>Optionally, the custom logic definition can also include:</p><ul><li>a <code>body</code> definition that can be used to construct a HTTP body from from arguments or fields.</li><li>a list of <code>forwardHeaders</code> to take from the incoming request and add to the outgoing HTTP call.
Used, for example, if the incoming request contains an auth token that must be passed to the custom logic.</li><li>a list of <code>secretHeaders</code> to take from the <code>Dgraph.Secret</code> defined in the schema file and add to the outgoing HTTP call.
Used, for example, for a server side API key and other static value that must be passed to the custom logic.</li><li>the <code>graphql</code> query/mutation to call if the custom logic is a GraphQL server and whether to introspect or not (<code>skipIntrospection</code>) the remote GraphQL endpoint.</li><li><code>mode</code> which is used for resolving fields by calling an external GraphQL query/mutation. It can either be <code>BATCH</code> or <code>SINGLE</code>.</li><li>a list of <code>introspectionHeaders</code> to take from the <code>Dgraph.Secret</code> <a href=#dgraphsecret>object</a> defined in the schema file. They&rsquo;re added to the
introspection requests sent to the endpoint.</li></ul><p>The result type of custom queries and mutations can be any object type in your schema, including <code>@remote</code> types. For custom fields the type can be object types or scalar types.</p><p>The <code>method</code> can be any of the HTTP methods: <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, or <code>DELETE</code>, and <code>forwardHeaders</code> is a list of headers that should be passed from the incoming request to the outgoing HTTP custom request. Let&rsquo;s look at each of the other <code>http</code> arguments in detail.</p><h2 id=dgraphsecret>Dgraph.Secret</h2><p>Sometimes you might want to forward some static headers to your custom API which can&rsquo;t be exposed
to the client. This could be an API key from a payment processor or an auth token for your organization
on GitHub. These secrets can be specified as comments in the schema file and then can be used in
<code>secretHeaders</code> and <code>introspectionHeaders</code> while defining the custom directive for a field/query.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span>	<span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>		getTopUsers(id: <span style=color:#2b91af>ID</span>!): [<span style=color:#2b91af>User</span>] @custom(http: {
</span></span><span style=display:flex><span>			<span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;http://api.github.com/topUsers&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#2b91af>method</span>: <span style=color:#a31515>&#34;POST&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#2b91af>introspectionHeaders</span>: [<span style=color:#a31515>&#34;Github-Api-Token&#34;</span>],
</span></span><span style=display:flex><span>			<span style=color:#2b91af>secretHeaders</span>: [<span style=color:#a31515>&#34;Authorization:Github-Api-Token&#34;</span>],
</span></span><span style=display:flex><span>            <span style=color:#2b91af>graphql</span>: <span style=color:#a31515>&#34;...&#34;</span>
</span></span><span style=display:flex><span>		})
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># Dgraph.Secret Github-Api-Token &#34;long-token&#34;</span>
</span></span></code></pre></div><p>In the above request, <code>Github-Api-Token</code> would be sent as a header with value <code>long-token</code> for
the introspection request. For the actual <code>/graphql</code> request, the <code>Authorization</code> header would be sent with
the value <code>long-token</code>.</p><div class="notices note"><span class=type>Note</span> <code>Authorization:Github-Api-Token</code> syntax tells us to use the value for
<code>Github-Api-Token</code> from <code>Dgraph.Secret</code> and forward it to the custom API with the header key as <code>Authorization</code>.</div><h2 id=the-url-and-method>The URL and method</h2><p>The URL can be as simple as a fixed URL string, or include details drawn from the arguments or fields.</p><p>A simple string might look like:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>    myCustomQuery: <span style=color:#2b91af>MyResult</span> @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/theQuery&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>While, in more complex cases, the arguments of the query/mutation can be used as a pattern for the URL:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>    myGetPerson(id: <span style=color:#2b91af>ID</span>!): <span style=color:#2b91af>Person</span> @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/person/$id&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    getPosts(authorID: <span style=color:#2b91af>ID</span>!, numToFetch: <span style=color:#2b91af>Int</span>!): [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/person/$authorID/posts?limit=$numToFetch&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In this case, a query like</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>query</span> {
</span></span><span style=display:flex><span>    <span style=color:#2b91af>getPosts</span>(authorID: <span style=color:#a31515>&#34;auth123&#34;</span>, <span style=color:#2b91af>numToFetch</span>: <span style=color:#2b91af>10</span>) {
</span></span><span style=display:flex><span>        title
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>gets transformed to an outgoing HTTP GET request to the URL <code>https://my.api.com/person/auth123/posts?limit=10</code>.</p><p>When using custom logic on fields, the URL can draw from other fields in the type. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>User</span> {
</span></span><span style=display:flex><span>    username: <span style=color:#2b91af>String</span>! @id
</span></span><span style=display:flex><span>    <span style=color:#00f>...</span>
</span></span><span style=display:flex><span>    posts: [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/person/$username/posts&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Note that:</p><ul><li>Fields or arguments used in the path of a URL, such as <code>username</code> or <code>authorID</code> in the exapmles above, must be marked as non-nullable (have <code>!</code> in their type); whereas, those used in parameters, such as <code>numToFetch</code>, can be nullable.</li><li>Currently, only scalar fields or arguments are allowed to be used in URLs or bodies; though, see body below, this doesn&rsquo;t restrict the objects you can construct and pass to custom logic functions.</li><li>Currently, the body can only contain alphanumeric characters in the key and other characters like <code>_</code> are not yet supported.</li><li>Currently, constant values are not also not allowed in the body template. This would soon be supported.</li></ul><h2 id=the-body>The body</h2><p>Many HTTP requests, such as add and update operations on REST APIs, require a JSON formatted body to supply the data. In a similar way to how <code>url</code> allows specifying a url pattern to use in resolving the custom request, Dgraph allows a <code>body</code> pattern that is used to build HTTP request bodies.</p><p>For example, this body can be structured JSON that relates a mutation&rsquo;s arguments to the JSON structure required by the remote endpoint.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Mutation</span> {
</span></span><span style=display:flex><span>    newMovie(title: <span style=color:#2b91af>String</span>!, desc: <span style=color:#2b91af>String</span>, dir: <span style=color:#2b91af>ID</span>, imdb: <span style=color:#2b91af>ID</span>): <span style=color:#2b91af>Movie</span> @custom(http: {
</span></span><span style=display:flex><span>            <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;http://myapi.com/movies&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#2b91af>method</span>: <span style=color:#a31515>&#34;POST&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#2b91af>body</span>: <span style=color:#a31515>&#34;{ title: $title, imdbID: $imdb, storyLine: $desc, director: { id: $dir }}&#34;</span>,
</span></span><span style=display:flex><span>    })
</span></span></code></pre></div><p>A request with <code>newMovie(title: "...", desc: "...", dir: "dir123", imdb: "tt0120316")</code> is transformed into a <code>POST</code> request to <code>http://myapi.com/movies</code> with a JSON body of:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    &#34;title&#34;: <span style=color:#a31515>&#34;...&#34;</span>,
</span></span><span style=display:flex><span>    &#34;imdbID&#34;: <span style=color:#a31515>&#34;tt0120316&#34;</span>,
</span></span><span style=display:flex><span>    &#34;storyLine&#34;: <span style=color:#a31515>&#34;...&#34;</span>,
</span></span><span style=display:flex><span>    &#34;director&#34;: {
</span></span><span style=display:flex><span>        &#34;id&#34;: <span style=color:#a31515>&#34;dir123&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>url</code> and <code>body</code> templates can be used together in a single custom definition.</p><p>For both <code>url</code> and <code>body</code> templates, any non-null arguments or fields must be present to evaluate the custom logic. And the following rules are applied when building the request from the template for nullable arguments or fields.</p><ul><li>If the value of a nullable argument is present, it&rsquo;s used in the template.</li><li>If a nullable argument is present, but null, then in a body <code>null</code> is inserted, while in a url nothing is added. For example, if the <code>desc</code> argument above is null then <code>{ ..., storyLine: null, ...}</code> is constructed for the body. Whereas, in a URL pattern like <code>https://a.b.c/endpoint?arg=$gqlArg</code>, if <code>gqlArg</code> is present, but null, the generated URL is <code>https://a.b.c/endpoint?arg=</code>.</li><li>If a nullable argument is not present, nothing is added to the URL/body. That would mean the constructed body would not contain <code>storyLine</code> if the <code>desc</code> argument is missing, and in <code>https://a.b.c/endpoint?arg=$gqlArg</code> the result would be <code>https://a.b.c/endpoint</code> if <code>gqlArg</code> were not present in the request arguments.</li></ul><h2 id=calling-graphql-custom-resolvers>Calling GraphQL custom resolvers</h2><p>Custom queries, mutations and fields can be implemented by custom GraphQL resolvers. In this case, use the <code>graphql</code> argument to specify which query/mutation on the remote server to call. The syntax includes if the call is a query or mutation, the arguments, and what query/mutation to use on the remote endpoint.</p><p>For example, you can pass arguments to queries onward as arguments to remote GraphQL endpoints:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>    getPosts(authorID: <span style=color:#2b91af>ID</span>!, numToFetch: <span style=color:#2b91af>Int</span>!): [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/graphql&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>POST</span>,
</span></span><span style=display:flex><span>        graphql: <span style=color:#a31515>&#34;query($authorID: ID!, $numToFetch: Int!) { posts(auth: $authorID, first: $numToFetch) }&#34;</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>You can also define your own inputs and pass those to the remote GraphQL endpoint.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>input</span> <span style=color:#2b91af>NewMovieInput</span> { <span style=color:#00f>...</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Mutation</span> {
</span></span><span style=display:flex><span>    newMovie(<span style=color:#00f>input</span>: <span style=color:#2b91af>NewMovieInput</span>!): <span style=color:#2b91af>Movie</span> @custom(<span style=color:#2b91af>http</span>: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;http://movies.com/graphql&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#a31515>&#34;POST&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>graphql</span>: <span style=color:#a31515>&#34;mutation($input: NewMovieInput!) { addMovie(data: $input) }&#34;</span>,
</span></span><span style=display:flex><span>    })
</span></span></code></pre></div><p>When a schema is uploaded, Dgraph will try to introspect the remote GraphQL endpoints on any custom logic that uses the <code>graphql</code> argument. From the results of introspection, it tries to match up arguments, input and object types to ensure that the calls to and expected responses from the remote GraphQL make sense.</p><p>If that introspection isn&rsquo;t possible, set <code>skipIntrospection: true</code> in the custom definition and Dgraph won&rsquo;t perform GraphQL schema introspection for this custom definition.</p><h2 id=remote-types>Remote types</h2><p>Any type annotated with the <code>@remote</code> directive is not stored in Dgraph. This allows your Dgraph GraphQL instance to serve an API that includes both data stored locally and data stored or generated elsewhere. You can also use custom fields, for example, to join data from disparate datasets.</p><p>Remote types can only be returned by custom resolvers and Dgraph won&rsquo;t generate any search or CRUD operations for remote types.</p><p>The schema definition used to define your Dgraph GraphQL API must include definitions of all the types used. If a custom logic call returns a type not stored in Dgraph, then that type must be added to the Dgraph schema with the <code>@remote</code> directive.</p><p>For example, you api might use custom logic to integrate with GitHub, using either <code>https://api.github.com</code> or the GitHub GraphQL api <code>https://api.github.com/graphql</code> and calling the <code>user</code> query. Either way, your GraphQL schema will need to include the type you expect back from that remote call. That could be linking a <code>User</code> as stored in your Dgraph instance with the <code>Repository</code> data from GitHub. With <code>@remote</code> types, that&rsquo;s as simple as adding the type and custom call to your schema.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:green># GitHub&#39;s repository type</span>
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Repository</span> @remote { <span style=color:#00f>...</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green># Dgraph user type</span>
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>User</span> {
</span></span><span style=display:flex><span>    <span style=color:green># local user name = GitHub id</span>
</span></span><span style=display:flex><span>    username: <span style=color:#2b91af>String</span>! @id
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:green># ...</span>
</span></span><span style=display:flex><span>    <span style=color:green># other data stored in Dgraph</span>
</span></span><span style=display:flex><span>    <span style=color:green># ...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:green># join local data with remote</span>
</span></span><span style=display:flex><span>    repositories: [<span style=color:#2b91af>Repository</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>:  <span style=color:#a31515>&#34;https://api.github.com/users/$username/repos&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Just defining the connection is all it takes and then you can ask a single GraphQL query that performs a local query and joins with (potentially many) remote data sources.</p><h3 id=remoteresponse-directive>RemoteResponse directive</h3><p>In combination with the <code>@remote</code> directive, in a GraphQL schema you can also use the <code>@remoteResponse</code> directive.
You can define the <code>@remoteResponse</code> directive on the fields of a <code>@remote</code> type in order to map the JSON key response of a custom query to a GraphQL field.</p><p>For example, in the given GraphQL schema there&rsquo;s a defined custom DQL query, whose JSON response contains the results of the <code>groupby</code> clause in the <code>@groupby</code> key. By using the <code>@remoteResponse</code> directive you&rsquo;ll map the <code>groupby</code> field in <code>GroupUserMapQ</code> type to the <code>@groupby</code> key in the JSON response:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>User</span> {
</span></span><span style=display:flex><span>	screen_name: <span style=color:#2b91af>String</span>! @id
</span></span><span style=display:flex><span>	followers: <span style=color:#2b91af>Int</span> @search
</span></span><span style=display:flex><span>	tweets: [<span style=color:#2b91af>Tweets</span>] @hasInverse(field: <span style=color:#2b91af>user</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>UserTweetCount</span> @remote {
</span></span><span style=display:flex><span>	screen_name: <span style=color:#2b91af>String</span>
</span></span><span style=display:flex><span>	tweetCount: <span style=color:#2b91af>Int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>UserMap</span> @remote {
</span></span><span style=display:flex><span>	followers: <span style=color:#2b91af>Int</span>
</span></span><span style=display:flex><span>	count: <span style=color:#2b91af>Int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>GroupUserMapQ</span> @remote {
</span></span><span style=display:flex><span>	groupby: [<span style=color:#2b91af>UserMap</span>] @remoteResponse(name: <span style=color:#a31515>&#34;@groupby&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>it&rsquo;s possible to define the following <code>@custom</code> DQL query:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>query</span><span style=color:#2b91af>UserKeyMap</span>: [<span style=color:#2b91af>GroupUserMapQ</span>] @custom(dql: <span style=color:#a31515>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#a31515>{
</span></span></span><span style=display:flex><span><span style=color:#a31515>	queryUserKeyMap(func: type(User)) @groupby(followers: User.followers) {
</span></span></span><span style=display:flex><span><span style=color:#a31515>		count(uid)
</span></span></span><span style=display:flex><span><span style=color:#a31515>	}
</span></span></span><span style=display:flex><span><span style=color:#a31515>}
</span></span></span><span style=display:flex><span><span style=color:#a31515>&#34;&#34;&#34;</span>)
</span></span></code></pre></div><h2 id=how-dgraph-processes-custom-results>How Dgraph processes custom results</h2><p>Given types like</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Post</span> @remote {
</span></span><span style=display:flex><span>    id: <span style=color:#2b91af>ID</span>!
</span></span><span style=display:flex><span>    title: <span style=color:#2b91af>String</span>!
</span></span><span style=display:flex><span>    datePublished: <span style=color:#2b91af>DateTime</span>
</span></span><span style=display:flex><span>    author: <span style=color:#2b91af>Author</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Author</span> { <span style=color:#00f>...</span> }
</span></span></code></pre></div><p>and a custom query</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>    getCustomPost(id: <span style=color:#2b91af>ID</span>!): <span style=color:#2b91af>Post</span> @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/post/$id&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    getPosts(authorID: <span style=color:#2b91af>ID</span>!, numToFetch: <span style=color:#2b91af>Int</span>!): [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/person/$authorID/posts?limit=$numToFetch&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Dgraph turns the <code>getCustomPost</code> query into a HTTP request to <code>https://my.api.com/post/$id</code> and expects a single JSON object with fields <code>id</code>, <code>title</code>, <code>datePublished</code> and <code>author</code> as result. Any additional fields are ignored, while if non-nullable fields (like <code>id</code> and <code>title</code>) are missing, GraphQL error propagation will be triggered.</p><p>For <code>getPosts</code>, Dgraph expects the HTTP call to <code>https://my.api.com/person/$authorID/posts?limit=$numToFetch</code> to return a JSON array of JSON objects, with each object matching the <code>Post</code> type as described above.</p><p>If the custom resolvers are GraphQL calls, like:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>Query</span> {
</span></span><span style=display:flex><span>    getCustomPost(id: <span style=color:#2b91af>ID</span>!): <span style=color:#2b91af>Post</span> @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/graphql&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>POST</span>,
</span></span><span style=display:flex><span>        graphql: <span style=color:#a31515>&#34;query(id: ID) { post(postID: $id) }&#34;</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#2b91af>getPosts</span>(authorID: <span style=color:#2b91af>ID</span>!, numToFetch: <span style=color:#2b91af>Int</span>!): [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/graphql&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>POST</span>,
</span></span><span style=display:flex><span>        graphql: <span style=color:#a31515>&#34;query(id: ID) { postByAuthor(authorID: $id, first: $numToFetch) }&#34;</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>then Dgraph expects a GraphQL call to <code>post</code> to return a valid GraphQL result like <code>{ "data": { "post": {...} } }</code> and will use the JSON object that is the value of <code>post</code> as the data resolved by the request.</p><p>Similarly, Dgraph expects <code>postByAuthor</code> to return data like <code>{ "data": { "postByAuthor": [ {...}, ... ] } }</code> and will use the array value of <code>postByAuthor</code> to build its array of posts result.</p><h2 id=how-errors-from-custom-endpoints-are-handled>How errors from custom endpoints are handled</h2><p>When a query returns an error while resolving from a custom HTTP endpoint, the error is added to the <code>errors</code> array and sent back to the user in the JSON response.</p><p>When a field returns an error while resolving a custom HTTP endpoint, the field&rsquo;s value becomes <code>null</code> and the error is added to the <code>errors</code> JSON array. The rest of the fields are still resolved as required by the request.</p><p>For example, a query from a custom HTTP endpoint will return an error in the following format:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  &#34;errors&#34;: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      &#34;message&#34;: <span style=color:#a31515>&#34;Rest API returns Error for myFavoriteMovies query&#34;</span>,
</span></span><span style=display:flex><span>      &#34;locations&#34;: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          &#34;line&#34;: 5,
</span></span><span style=display:flex><span>          &#34;column&#34;: 4
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      &#34;path&#34;: [
</span></span><span style=display:flex><span>        <span style=color:#a31515>&#34;Movies&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a31515>&#34;name&#34;</span>
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=how-custom-fields-are-resolved>How custom fields are resolved</h2><p>When evaluating a request that includes custom fields, Dgraph might run multiple resolution stages to resolve all the fields. Dgraph must also ensure it requests enough data to forfull the custom fields. For example, given the <code>User</code> type defined as:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>type</span> <span style=color:#2b91af>User</span> {
</span></span><span style=display:flex><span>    username: <span style=color:#2b91af>String</span>! @id
</span></span><span style=display:flex><span>    <span style=color:#00f>...</span>
</span></span><span style=display:flex><span>    posts: [<span style=color:#2b91af>Post</span>] @custom(http: {
</span></span><span style=display:flex><span>        <span style=color:#2b91af>url</span>: <span style=color:#a31515>&#34;https://my.api.com/person/$username/posts&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#2b91af>method</span>: <span style=color:#2b91af>GET</span>
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>a query such as:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>query</span> {
</span></span><span style=display:flex><span>    <span style=color:#2b91af>queryUser</span> {
</span></span><span style=display:flex><span>        username
</span></span><span style=display:flex><span>        posts
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>is executed by first querying in Dgraph for <code>username</code> and then using the result to resolve the custom field <code>posts</code> (which relies on <code>username</code>). For a request like:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#00f>query</span> {
</span></span><span style=display:flex><span>    <span style=color:#2b91af>queryUser</span> {
</span></span><span style=display:flex><span>        posts
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Dgraph works out that it must first get <code>username</code> so it can run the custom field <code>posts</code>, even though <code>username</code> isn&rsquo;t part of the original query. So Dgraph retrieves enough data to satisfy the custom request, even if that involves data that isn&rsquo;t asked for in the query.</p><p>There are currently a few limitations on custom fields:</p><ul><li>each custom call must include either an <code>ID</code> or <code>@id</code> field</li><li>arguments are not allowed (soon custom field arguments will be allowed and will be used in the <code>@custom</code> directive in the same manner as for custom queries and mutations), and</li><li>a custom field can&rsquo;t depend on another custom field (longer term, we intend to lift this restriction).</li></ul><h2 id=restrictions--roadmap>Restrictions / Roadmap</h2><p>Our custom logic is still in beta and we are improving it quickly. Here&rsquo;s a few points that we plan to work on soon:</p><ul><li>adding arguments to custom fields</li><li>relaxing the restrictions on custom fields using id values</li><li>iterative evaluation of <code>@custom</code> and <code>@remote</code> - in the current version you can&rsquo;t have <code>@custom</code> inside an <code>@remote</code> type once we add this, you&rsquo;ll be able to extend remote types with custom fields, and</li><li>allowing fine tuning of the generated API, for example removing of customizing the generated CRUD mutations.</li></ul><hr></div><div class=post__comments><footer class=clearfix><a target=_blank href=https://discuss.dgraph.io><img class=logo src=https://discuss-dgraph-io.s3.dualstack.us-west-1.amazonaws.com/original/2X/4/4167dff901e0bed240f529edd1d9f318462968f8.png></a>
<a class=question-btn target=_blank href=https://discuss.dgraph.io/c/docs/49><i class="fa fa-question-circle"></i> Ask a Question</a>
<a class=edit-btn target=_blank href=https://github.com/dgraph-io/librebaas-docs/edit/master/content/graphql/custom/directive.md><i class="fa fa-github-alt"></i> Edit Page</a></footer></div></article><div class=right-toc><nav id=TableOfContents><ul><li><a href=#dgraphsecret>Dgraph.Secret</a></li><li><a href=#the-url-and-method>The URL and method</a></li><li><a href=#the-body>The body</a></li><li><a href=#calling-graphql-custom-resolvers>Calling GraphQL custom resolvers</a></li><li><a href=#remote-types>Remote types</a><ul><li><a href=#remoteresponse-directive>RemoteResponse directive</a></li></ul></li><li><a href=#how-dgraph-processes-custom-results>How Dgraph processes custom results</a></li><li><a href=#how-errors-from-custom-endpoints-are-handled>How errors from custom endpoints are handled</a></li><li><a href=#how-custom-fields-are-resolved>How custom fields are resolved</a></li><li><a href=#restrictions--roadmap>Restrictions / Roadmap</a></li></ul></nav></div></div></main><div class="modal fade" id=runnable-modal tabindex=-1 role=dialog aria-labelledby=exampleModalLabel aria-hidden=true><a href=# data-dismiss=modal class=modal-close-btn>Close</a><div class=modal-dialog role=document><div class=modal-content><div class=modal-body></div></div></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script>
<script type=text/javascript>if(window.docsearch){var version="latest",path=window.location.pathname,arr=/(?:\/)?((?:master)|(?:v[0-9][^/]+))(?:\/)?.*$/.exec(path);arr!=null&&arr.length>1&&(version=arr[1]),window.docsearch({apiKey:"fe4cbc1640c6c87bbc5f099902d86f97",indexName:"dgraph",inputSelector:"#algolia-doc-search",algoliaOptions:{filters:`version:${version}`},debug:!1})}</script><script type=text/javascript>adroll_adv_id="L42C3U2UXBBPVAMISVXVLC",adroll_pix_id="MOR4VUNPK5B2LHEZ2NNTDX",adroll_version="2.0",function(e,t,n,s,o){e.__adroll_loaded=!0,e.adroll=e.adroll||[],e.adroll.f=["setProperties","identify","track"];var i="https://s.adroll.com/j/"+adroll_adv_id+"/roundtrip.js";for(o=0;o<e.adroll.f.length;o++)e.adroll[e.adroll.f[o]]=e.adroll[e.adroll.f[o]]||function(t){return function(){e.adroll.push([t,arguments])}}(e.adroll.f[o]);n=t.createElement("script"),s=t.getElementsByTagName("script")[0],n.async=1,n.src=i,s.parentNode.insertBefore(n,s)}(window,document),adroll.track("pageView")</script><script src=/js/clipboard.min.js></script>
<script src=/js/dgraph.js?a9873668f1334ff6c49d4edea0a4bc38></script>
<script src=/js/runnable.js?6e7f328df4134d18ba5c8dd11f84deb8></script>
<script>hljs.initHighlightingOnLoad()</script><script async src=//unpkg.com/@dgraph-io/community></script>
<script src=https://cdn.ranksci.com/dgraph-411505.min.js type=text/javascript></script></body></html>