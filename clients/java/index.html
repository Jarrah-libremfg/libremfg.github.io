<!doctype html><html lang=en class="js csstransforms3d"><head><script>var subPaths={"/clients/#implementation":"/clients/overview/#implementation","/clients/#transactions":"/clients/overview/#transactions","/clients/#create-the-client":"/clients/go/#create-the-client","/clients/#alter-the-database":"/clients/go/#alter-the-database","/clients/#create-a-transaction":"/clients/go/#create-a-transaction","/clients/#read-only-transactions":"/clients/go/#read-only-transactions","/clients/#run-a-query":"/clients/go/#run-a query","/clients/#run-a-mutation":"/clients/go/#run-a-mutation","/clients/#commit-the-transaction":"/clients/go/#commit-the-transaction","/clients/#complete-example":"/clients/go/#complete-example","/clients/#grpc":"/clients/javascript/#grpc","/clients/#http":"/clients/javascript#http","/clients/#create-the-client-1":"/clients/raw-http/#create-the-client-1","/clients/#alter-the-database-1":"/clients/raw-http/#alter-the-database-1","/clients/#start-a-transaction":"/clients/raw-http/#start-a-transaction","/clients/#run-a-query-1":"/clients/raw-http/#run-a-query","/clients/#run-a-mutation-1":"/clients/raw-http/#run-a-mutation","/clients/#committing-the-transaction":"/clients/raw-http/#committing-the-transaction","/clients/#aborting-the-transaction":"/clients/raw-http/#aborting-the-transaction","/clients/#running-read-only-queries":"/clients/raw-http/#running-read-only-queries","/clients/#running-best-effort-queries":"/clients/raw-http/#running-best-effort-queries","/clients/#compression-via-http":"/clients/raw-http/#compression-via-http","/clients/#run-a-query-in-json-format":"/clients/raw-http/#run-a-query-in-json-format","/deploy/#install-dgraph":"/deploy/download","/deploy/#docker":"/deploy/download/#docker","/deploy/#automatic-download":"/deploy/download/#automatic-download","/deploy/#manual-download-[optional]":"/deploy/download/#manual-download-[optional]","/deploy/#building-from-source":"/deploy/download/#building-from-source","/deploy/#understanding-dgraph-cluster":"/deploy/cluster-setup/#understanding-dgraph-cluster","/deploy/#sharding":"/deploy/cluster-setup/#sharding","/deploy/#shard-rebalancing":"/deploy/cluster-setup/#shard-rebalancing","/deploy/#consistent-replication":"/deploy/cluster-setup/#consistent-replication","/deploy/#types-of-ports":"/deploy/ports-usage/#types-of-ports","/deploy/#ports-used-by-different-nodes":"/deploy/ports-usage/#ports-used-by-different-nodes","/deploy/#ha-cluster-setup":"/deploy/ports-usage/#ha-cluster-setup","/deploy/#dgraph-zero":"/deploy/ports-usage/#dgraph-zero","/deploy/#dgraph-alpha":"/deploy/ports-usage/#dgraph-alpha","/deploy/#run-directly-on-the-host":"/deploy/single-host-setup/#run-directly-on-the-host","/deploy/#run-dgraph-zero":"/deploy/single-host-setup/#run-dgraph-zero","/deploy/#run-dgraph-alpha":"/deploy/single-host-setup/#run-dgraph-alpha","/deploy/#run-dgraph-ui":"/deploy/single-host-setup/#run-dgraph-ui","/deploy/#run-using-docker":"/deploy/single-host-setup/#run-using-docker","/deploy/#create-docker-network":"/deploy/single-host-setup/#create-docker-network","/deploy/#run-dgraph-zero":"/deploy/single-host-setup/#run-dgraph-zero","/deploy/#run-dgraph-alpha":"/deploy/single-host-setup/#run-dgraph-alpha","/deploy/#run-dgraph-ui":"/deploy/single-host-setup/#run-dgraph-ui","/deploy/#run-using-docker-compose-(on-single-aws-instance)":"/deploy/single-host-setup/#run-using-docker-compose-(on-single-aws-instance)","/deploy/#using-docker-swarm":"/deploy/multi-host-setup/#using-docker-swarm","/deploy/#cluster-setup-using-docker-swarm":"/deploy/multi-host-setup/#cluster-setup-using-docker-swarm","/deploy/#ha-cluster-setup-using-docker-swarm":"/deploy/multi-host-setup/#ha-cluster-setup-using-docker-swarm","/deploy/#single-server":"/deploy/kubernetes/#single-server","/deploy/#deploy-single-server":"/deploy/kubernetes/#deploy-single-server","/deploy/#verify-single-server":"/deploy/kubernetes/#verify-single-server","/deploy/#test-single-server-setup":"/deploy/kubernetes/#test-single-server-setup","/deploy/#remove-single-server-resources":"/deploy/kubernetes/#remove-single-server-resources","/deploy/#ha-cluster-setup-using-kubernetes":"/deploy/kubernetes/#ha-cluster-setup-using-kubernetes","/deploy/#validate-kubernetes-cluster-for-ha":"/deploy/kubernetes/#validate-kubernetes-cluster-for-ha","/deploy/#verify-dgraph-ha-cluster":"/deploy/kubernetes/#verify-dgraph-ha-cluster","/deploy/#test-dgraph-ha-cluster-setup":"/deploy/kubernetes/#test-dgraph-ha-cluster-setup","/deploy/#delete-dgraph-ha-cluster-resources":"/deploy/kubernetes/#delete-dgraph-ha-cluster-resources","/deploy/#using-helm-chart":"/deploy/kubernetes/#using-helm-chart","/deploy/#installing-the-chart":"/deploy/kubernetes/#installing-the-chart","/deploy/#upgrading-the-chart":"/deploy/kubernetes/#upgrading-the-chart","/deploy/#deleting-the-chart":"/deploy/kubernetes/#deleting-the-chart","/deploy/#configuration":"/deploy/kubernetes/#configuration","/deploy/#monitoring-in-kubernetes":"/deploy/kubernetes/#monitoring-in-kubernetes","/deploy/#kubernetes-storage":"/deploy/kubernetes/#kubernetes-storage","/deploy/#local-storage":"/deploy/kubernetes/#local-storage","/deploy/#non-local-persistent-disks":"/deploy/kubernetes/#non-local-persistent-disks","/deploy/#removing-a-dgraph-pod":"/deploy/kubernetes/#removing-a-dgraph-pod","/deploy/#kubernetes-and-bulk-loader":"/deploy/kubernetes/#kubernetes-and-bulk-loader","/deploy/#more-about-dgraph-alpha":"/deploy/dgraph-alpha","/deploy/#querying-health":"/deploy/dgraph-alpha/#querying-health","/deploy/#more-about-dgraph-zero":"/deploy/dgraph-zero","/deploy/#more-about-state-endpoint":"/deploy/dgraph-zero/#more-about-state-endpoint","/deploy/#query-logging":"/deploy/log-format/#query-logging","/deploy/#dgraph-certificate-management-tool":"/deploy/tls-configuration/#dgraph-certificate-management-tool","/deploy/#file-naming-conventions":"/deploy/tls-configuration/#file-naming-conventions","/deploy/#certificate-inspection":"/deploy/tls-configuration/#certificate-inspection","/deploy/#tls-options":"/deploy/tls-configuration/#tls-options","/deploy/#using-tls-without-client-authentication":"/deploy/tls-configuration/#using-tls-without-client-authentication","/deploy/#using-tls-with-client-authentication":"/deploy/tls-configuration/#using-tls-with-client-authentication","/deploy/#client-authentication-options":"/deploy/tls-configuration/#client-authentication-options","/deploy/#using-ratel-ui-with-client-authentication":"/deploy/tls-configuration/#using-ratel-ui-with-client-authentication","/deploy/#using-curl-with-client-authentication":"/deploy/tls-configuration/#using-curl-with-client-authentication","/deploy/#access-data-using-a-client":"/deploy/tls-configuration/#access-data-using-a-client","/deploy/#troubleshooting-ratel-s-client-authentication":"/deploy/tls-configuration/#troubleshooting-ratel-s-client-authentication","/deploy/#live-loader":"/deploy/fast-data-loading/#live-loader","/deploy/#encrypted-imports-via-live-loader":"/deploy/fast-data-loading/#encrypted-imports-via-live-loader","/deploy/#encrypted-rdf-json-file-and-schema-via-live-loader":"/deploy/fast-data-loading/#encrypted-rdf-json-file-and-schema-via-live-loader","/deploy/#other-live-loader-options":"/deploy/fast-data-loading/#other-live-loader-options","/deploy/#bulk-loader":"/deploy/fast-data-loading/#bulk-loader","/deploy/#encryption-at-rest-with-bulk-loader":"/deploy/fast-data-loading/#encryption-at-rest-with-bulk-loader","/deploy/#encrypting-imports-via-bulk-loader":"/deploy/fast-data-loading/#encrypting-imports-via-bulk-loader","/deploy/#other-bulk-loader-options":"/deploy/fast-data-loading/#other-bulk-loader-options","/deploy/#tuning-monitoring":"/deploy/fast-data-loading/#tuning-monitoring","/deploy/#disk-metrics":"/deploy/metrics/#disk-metrics","/deploy/#memory-metrics":"/deploy/metrics/#memory-metrics","/deploy/#activity-metrics":"/deploy/metrics/#activity-metrics","/deploy/#health-metrics":"/deploy/metrics/#health-metrics","/deploy/#go-metrics":"/deploy/metrics/#go-metrics","/deploy/#examining-traces-with-zpages":"/deploy/tracing/#examining-traces-with-zpages","/deploy/#examining-traces-with-jaeger":"/deploy/tracing/#examining-traces-with-jaeger","/deploy/#setting-up-multiple-dgraph-clusters-with-jaeger":"/deploy/tracing/#setting-up-multiple-dgraph-clusters-with-jaeger","/deploy/#whitelisting-admin-operations":"/deploy/dgraph-administration/#whitelisting-admin-operations","/deploy/#restricting-mutation-operations":"/deploy/dgraph-administration/#restricting-mutation-operations","/deploy/#securing-alter-operations":"/deploy/dgraph-administration/#securing-alter-operations","/deploy/#export-database":"/deploy/dgraph-administration/#exporting-database","/deploy/#encrypting-exports":"/deploy/dgraph-administration/#encrypting-exports","/deploy/#shutting-down-database":"/deploy/dgraph-administration/#shutting-down-database","/deploy/#deleting-database":"/deploy/dgraph-administration/#deleting-database","/deploy/#upgrading-database":"/deploy/dgraph-administration/#upgrading-database","/deploy/#upgrading-from-v1-2-2-to-v20-03-0-for-enterprise-customers":"/deploy/dgraph-administration/#upgrading-from-v1-2-2-to-v20-03-0-for-enterprise-customers","/deploy/#post-installation":"/deploy/dgraph-administration/#post-installation","/deploy/#running-oom-out-of-memory":"/deploy/troubleshooting/#running-oom-out-of-memory","/deploy/#too-many-open-files":"/deploy/troubleshooting/#too-many-open-files","/deploy/#cluster-requirements":"/deploy/production-checklist/#cluster-requirements","/deploy/#machine-requirements":"/deploy/production-checklist/#machine-requirements","/deploy/#operating-system":"/deploy/production-checklist/#operating-system","/deploy/#cpu-and-memory":"/deploy/production-checklist/#cpu-and-memory","/deploy/#disk":"/deploy/production-checklist/#disk","/deploy/#firewall-rules":"/deployproduction-checklist/#firewall-rules","/deploy/#operating-system-tuning":"/deploy/production-checklist/#operating-system-tuning","/deploy/#deployment":"/deploy/production-checklist/#deployment","/deploy/#terminology":"/deploy/production-checklist/#terminology","/deploy/#basic-setup-2-node-cluster":"/deploy/production-checklist/#basic-setup-2-node-cluster","/deploy/#ha-setup-6-node-cluster":"/deploy/production-checklist/#ha-setup-6-node-cluster","/deploy/#supplementary-services":"/deploy/production-checklist/#supplementary-services","/deploy/#see-also":"/deploy/","/query-language/#take-a-tour-https-tour-dgraph-io":"/query-language/graphql-fundamentals/#take-a-tour-https-tour-dgraph-io","/query-language/#running-examples":"/query-language/graphql-fundamentals/#running-examples","/query-language/#graphql-fundamentals":"/query-language/graphql-fundamentals/#graphql-fundamentals","/query-language/#returning-values":"/query-language/graphql-fundamentals/#returning-values","/query-language/#expanding-graph-edges":"/query-language/graphql-fundamentals/#expanding-graph-edges","/query-language/#comments":"/query-language/graphql-fundamentals/#comments","/query-language/#applying-filters":"/query-language/graphql-fundamentals/#applying-filters","/query-language/#language-support":"/query-language/graphql-fundamentals/#language-support","/query-language/#functions":"/query-language/functions","/query-language/#term-matching":"/query-language/functions/#term-matching","/query-language/#allofterms":"/query-language/functions/#allofterms","/query-language/#usage-at-root":"/query-language/functions/#usage-at-root","/query-language/#usage-as-filter":"/query-language/functions/#usage-as-filter","/query-language/#anyofterms":"/query-language/functions/#anyofterms","/query-language/#usage-at-root-1":"/query-language/functions/#usage-at-root-1","/query-language/#usage-as-filter-1":"/query-language/functions/#usage-as-filter-1","/query-language/#regular-expressions":"/query-language/functions/#regular-expressions","/query-language/#technical-details":"/query-language/functions/#technical-details","/query-language/#writing-efficient-regular-expressions-and-limitations":"/query-language/functions/#writing-efficient-regular-expressions-and-limitations","/query-language/#fuzzy-matching":"/query-language/functions/#fuzzy-matching","/query-language/#full-text-search":"/query-language/functions/#full-text-search","/query-language/#inequality":"/query-language/functions/#inequality","/query-language/#equal-to":"/query-language/functions/#equal-to","/query-language/#less-than-less-than-or-equal-to-greater-than-and-greater-than-or-equal-to":"/query-language/functions/#less-than-less-than-or-equal-to-greater-than-and-greater-than-or-equal-to","/query-language/#uid":"/query-language/functions/#uid","/query-language/#uid-in":"/query-language/functions/#uid-in","/query-language/#has":"/query-language/functions/#has","/query-language/#geolocation":"/query-language/functions/#geolocation","/query-language/#mutations":"/query-language/functions/#mutations","/query-language/#query":"/query-language/functions/#query","/query-language/#near":"/query-language/functions/#near","/query-language/#within":"/query-language/functions/#within","/query-language/#contains":"/query-language/functions/#contains","/query-language/#intersects":"/query-language/functions/#intersects","/query-language/#connecting-filters":"/query-language/connecting-filters/","/query-language/#and-or-and-not":"/query-language/connecting-filters/#and-or-and-not","/query-language/#alias":"/query-language/alias","/query-language/#pagination":"/query-language/pagination","/query-language/#first":"/query-language/pagination/#first","/query-language/#offset":"/query-language/paginatio/n#offset","/query-language/#after":"/query-language/pagination/#after","/query-language/#count":"/query-language/count","/query-language/#sorting":"/query-language/sorting","/query-language/#multiple-query-blocks":"/query-language/multiple-query-blocks","/query-language/#var-blocks":"/query-language/multiple-query-blocks/#var-blocks","/query-language/#query-variables":"/query-language/query-variables/","/query-language/#value-variables":"/query-language/value-variables/","/query-language/#variable-propagation":"/query-language/value-variables/#variable-propagation","/query-language/#aggregation":"/query-language/aggregation/","/query-language/#min":"/query-language/aggregation/#min","/query-language/#usage-at-root-2":"/query-language/aggregation/#usage-at-root-2","/query-language/#usage-at-other-levels":"/query-language/aggregation/#usage-at-other-levels","/query-language/#max":"/query-language/aggregation/#max","/query-language/#usage-at-root-3":"/query-language/aggregation/#usage-at-root-3","/query-language/#usage-at-other-levels-1":"/query-language/aggregation/#usage-at-other-levels-1","/query-language/#sum-and-avg":"/query-language/aggregation/#sum-and-avg","/query-language/#usage-at-root-4":"/query-language/aggregation/#usage-at-root-4","/query-language/#usage-at-other-levels-2":"/query-language/aggregation/#usage-at-other-levels-2","/query-language/#aggregating-aggregates":"/query-language/aggregation/#aggregating-aggregates","/query-language/#math-on-value-variables":"/query-language/math-on-value-variables/","/query-language/#groupby":"/query-language/groupby/","/query-language/#expand-predicates":"/query-language/expand-predicates/","/query-language/#filtering-during-expand":"/query-language/expand-predicates/#filtering-during-expand","/query-language/#cascade-directive":"/query-language/cascade-directive/","/query-language/#normalize-directive":"/query-language/normalize-directive/","/query-language/#ignorereflex-directive":"/query-language/ignorereflex-directive/","/query-language/#debug":"/query-language/debug/","/query-language/#schema":"/query-language/schema/","/query-language/#schema-types":"/query-language/schema/#schema-types","/query-language/#scalar-types":"/query-language/schema/#scalar-types","/query-language/#uid-type":"/query-language/schema/#uid-type","/query-language/#adding-or-modifying-schema":"/query-language/schema/#adding-or-modifying-schema","/query-language/#indexes-in-background":"/query-language/schema/#indexes-in-background","/query-language/#http-api":"/query-language/schema/#http-api","/query-language/#grpc-api":"/query-language/schema/#grpc-api","/query-language/#predicate-name-rules":"/query-language/schema/#predicate-name-rules","/query-language/#allowed-special-characters":"/query-language/schema/#allowed-special-characters","/query-language/#forbidden-special-characters":"/query-language/schema/#forbidden-special-characters","/query-language/#predicates-i18n":"/query-language/schema/#predicates-i18n","/query-language/#upsert-directive":"/query-language/schema/#upsert-directive","/query-language/#noconflict-directive":"/query-language/schema/#noconflict-directive","/query-language/#rdf-types":"/query-language/schema/#rdf-types","/query-language/#extended-types":"/query-language/schema/#extended-types","/query-language/#password-type":"/query-language/schema/#password-type","/query-language/#indexing":"/query-language/schema/#indexing","/query-language/#string-indices":"/query-language/schema/#string-indices","/query-language/#datetime-indices":"/query-language/schema/#datetime-indices","/query-language/#sortable-indices":"/query-language/schema/#sortable-indices","/query-language/#count-index":"/query-language/schema/#count-index","/query-language/#list-type":"/query-language/schema/#list-type","/query-language/#filtering-on-list":"/query-language/schema/#filtering-on-list","/query-language/#reverse-edges":"/query-language/schema/#reverse-edges","/query-language/#querying-schema":"/query-language/schema/#querying-schema","/query-language/#type-system":"/query-language/type-system/","/query-language/#type-definition":"/query-language/schema/#type-definition","/query-language/#setting-the-type-of-a-node":"/query-language/schema/#setting-the-type-of-a-node","/query-language/#using-types-during-queries":"/query-language/schema/#using-types-during-queries","/query-language/#deleting-a-type":"/query-language/schema/#deleting-a-type","/query-language/#expand-queries-and-types":"/query-language/schema/#expand-queries-and-types","/query-language/#facets-edge-attributes":"/query-language/facets/","/query-language/#facets-on-scalar-predicates":"/query-language/facets/#facets-on-scalar-predicates","/query-language/#facets-i18n":"/query-language/facets/#facets-i18n","/query-language/#alias-with-facets":"/query-language/facets/#alias-with-facets","/query-language/#facets-on-uid-predicates":"/query-language/facets/#facets-on-uid-predicates","/query-language/#filtering-on-facets":"/query-language/facets/#filtering-on-facets","/query-language/#sorting-using-facets":"/query-language/facets/#sorting-using-facets","/query-language/#assigning-facet-values-to-a-variable":"/query-language/facets/#assigning-facet-values-to-a-variable","/query-language/#facets-and-variable-propagation":"/query-language/facets/#facets-and-variable-propagation","/query-language/#facets-and-aggregation":"/query-language/facets/#facets-and-aggregation","/query-language/#k-shortest-path-queries":"/query-language/k-shortest-path-queries/","/query-language/#recurse-query":"/query-language/recurse-query/","/query-language/#fragments":"/query-language/fragments/","/query-language/#graphql-variables":"/query-language/graphql-variables/","/query-language/#indexing-with-custom-tokenizers":"/query-language/indexing-custom-tokenizers/","/query-language/#caveats":"/query-language/indexing-custom-tokenizers/#caveats","/query-language/#implementing-a-plugin":"/query-language/indexing-custom-tokenizers/#implementing-a-plugin","/query-language/#building-the-plugin":"/query-language/indexing-custom-tokenizers/#building-the-plugin","/query-language/#running-dgraph-with-plugins":"/query-language/indexing-custom-tokenizers/#running-dgraph-with-plugins","/query-language/#adding-the-index-to-the-schema":"/query-language/indexing-custom-tokenizers/#adding-the-index-to-the-schema","/query-language/#using-the-index-in-queries":"/query-language/indexing-custom-tokenizers/#using-the-index-in-queries","/query-language/#examples":"/query-language/indexing-custom-tokenizers/#examples","/query-language/#unicode-characters":"/query-language/indexing-custom-tokenizers/#unicode-characters","/query-language/#cidr-range":"/query-language/indexing-custom-tokenizers/#cidr-range","/query-language/#anagram":"/query-language/indexing-custom-tokenizers/#anagram","/query-language/#integer-prime-factors":"/query-language/indexing-custom-tokenizers/#integer-prime-factors","/design-concepts/#can-we-do-pre-writes-only-on-leaders":"/design-concepts/transactions-faq/","/design-concepts/#edges":"/design-concepts/concepts/#edges","/design-concepts/#posting-list":"/design-concepts/concepts/#posting-list","/design-concepts/#badger":"/design-concepts/concepts/#badger","/design-concepts/#group":"/design-concepts/concepts/#group","/design-concepts/#replication-and-server-failure":"/design-concepts/concepts/#replication-and-server-failure","/design-concepts/#new-server-and-discovery":"/design-concepts/concepts/#new-server-and-discovery","/design-concepts/#write-ahead-logs":"/design-concepts/concepts/#write-ahead-logs","/design-concepts/#mutations":"/design-concepts/concepts/#mutations","/design-concepts/#queries":"/design-concepts/concepts/#queries","/design-concepts/#network-calls":"/design-concepts/concepts/#network-calls","/design-concepts/#worker":"/design-concepts/concepts/#worker","/design-concepts/#worker-pool":"/design-concepts/concepts/#worker-pool","/design-concepts/#protocol-buffers":"/design-concepts/concepts/#protocol-buffers","/design-concepts/#sql-nosql":"/design-concepts/minimizing-network-calls/#sql-nosql","/design-concepts/#dgraph":"/design-concepts/minimizing-network-calls/#dgraph","/design-concepts/#term":"/design-concepts/raft/#dgraph","/design-concepts/#server-states":"/design-concepts/raft/#server-states","/design-concepts/#communication":"/design-concepts/raft/#communication","/design-concepts/#log-entries":"/design-concepts/raft/#log-entries","/design-concepts/#voting":"/design-concepts/raft/#voting","/design-concepts/#cluster-membership":"/design-concepts/raft/#cluster-membership","/design-concepts/#log-compaction":"/design-concepts/raft/#log-compaction","/design-concepts/#clients":"/design-concepts/raft/#clients","/design-concepts/#linearizable-semantics":"/design-concepts/raft/#linearizable-semantics","/design-concepts/#read-only-queries":"/design-concepts/raft/#read-only-queries","/mutations/#deletion-of-non-list-predicates":"/mutations/delete/#deletion-of-non-list-predicates","/mutations/#setting-literal-values":"/mutations/json-mutation-format/#setting-literal-values","/mutations/#language-support":"/mutations/json-mutation-format/#language-support","/mutations/#geolocation-support":"/mutations/json-mutation-format/#geolocation-support","/mutations/#referencing-existing-nodes":"/mutations/json-mutation-format/#referencing-existing-nodes","/mutations/#edges-between-nodes":"/mutations/json-mutation-format/#edges-between-nodes","/mutations/#deleting-literal-values":"/mutations/json-mutation-format/#deleting-literal-values","/mutations/#deleting-edges":"/mutations/json-mutation-format/#deleting-edges","/mutations/#facets":"/mutations/json-mutation-format/#facets","/mutations/#deleting-facets":"/mutations/json-mutation-format/#deleting-facets","/mutations/#creating-a-list-with-json-and-interacting-with":"/mutations/json-mutation-format/#creating-a-list-with-json-and-interacting-with","/mutations/#facets-in-list-type-with-json":"/mutations/json-mutation-format/#facets-in-list-type-with-json","/mutations/#specifying-multiple-operations":"/mutations/json-mutation-format/#specifying-multiple-operations","/mutations/#json-syntax-using-raw-http-or-ratel-ui":"/mutations/json-mutation-format/#json-syntax-using-raw-http-or-ratel-ui","/mutations/#using-json-operations-via-curl":"/mutations/json-mutation-format/#using-json-operations-via-curl","/mutations/#uid-function":"/mutations/upsert-block/#uid-function","/mutations/#val-function":"/mutations/upsert-block/#val-function","/mutations/#example-of-uid-function":"/mutations/upsert-block/#example-of-uid-function","/mutations/#example-of-val-function":"/mutations/upsert-block/#example-of-val-function","/mutations/#bulk-delete-example":"/mutations/upsert-block/#bulk-delete-example","/mutations/#example-of-conditional-upsert":"/mutations/conditional-upsert/#example-of-conditional-upsert","/mutations/#example-of-multiple-mutation-blocks":"/mutations/conditional-upsert/#example-of-multiple-mutation-blocks","/enterprise-features/#configure-backup":"/enterprise-features/binary-backups/#configure-backup","/enterprise-features/#configure-amazon-s3-credentials":"/enterprise-features/binary-backups/#configure-amazon-s3-credentials","/enterprise-features/#configure-minio-credentials":"/enterprise-features/binary-backups/#configure-minio-credentials","/enterprise-features/#create-a-backup":"/enterprise-features/binary-backups/#create-a-backup","/enterprise-features/#backup-to-amazon-s3":"/enterprise-features/binary-backups/#backup-to-amazon-s3","/enterprise-features/#backup-to-minio":"/enterprise-features/binary-backups/#backup-to-minio","/enterprise-features/#backup-to-minio":"/enterprise-features/binary-backups/#backup-to-minio","/enterprise-features/#backup-to-google-cloud-storage-via-minio-gateway":"/enterprise-features/binary-backups/#backup-to-google-cloud-storage-via-minio-gateway","/enterprise-features/#test-using-minio-browser":"/enterprise-features/binary-backups/#test-using-minio-browser","/enterprise-features/#test-using-minio-client":"/enterprise-features/binary-backups/#test-using-minio-client","/enterprise-features/#disabling-https-for-s3-and-minio-backups":"/enterprise-features/binary-backups/#disabling-https-for-s3-and-minio-backups","/enterprise-features/#overriding-credentials":"/enterprise-features/binary-backups/#overriding-credentials","/enterprise-features/#backup-to-nfs":"/enterprise-features/binary-backups/#backup-to-nfs","/enterprise-features/#forcing-a-full-backup":"/enterprise-features/binary-backups/#forcing-a-full-backup","/enterprise-features/#encrypted-backups":"/enterprise-features/binary-backups/#encrypted-backups","/enterprise-features/#new-flag-“encrypted”-in-manifest.json":"/enterprise-features/binary-backups/#new-flag-“encrypted”-in-manifest.json","/enterprise-features/#aes-and-chaining-with-gzip":"/enterprise-features/binary-backups/#aes-and-chaining-with-gzip","/enterprise-features/#backup":"/enterprise-features/binary-backups/#backup","/enterprise-features/#restore-from-backup":"/enterprise-features/binary-backups/#restore-from-backup","/enterprise-features/#restore-from-amazon-s3":"/enterprise-features/binary-backups/#restore-from-amazon-s3","/enterprise-features/#restore-from-minio":"/enterprise-features/binary-backups/#restore-from-minio","/enterprise-features/#restore-from-local-directory-or-nfs":"/enterprise-features/binary-backups/#restore-from-local-directory-or-nfs","/enterprise-features/#restore-and-update-timestamp":"/enterprise-features/binary-backups/#restore-and-update-timestamp","/enterprise-features/#turn-on-acls":"/enterprise-features/access-control-lists/#turn-on-acls","/enterprise-features/#set-up-acl-rules":"/enterprise-features/access-control-lists/#set-up-acl-rules","/enterprise-features/#using-graphql-admin-api":"/enterprise-features/access-control-lists/#using-graphql-admin-api","/enterprise-features/#retrieve-users-and-groups-information":"/enterprise-features/access-control-lists/#retrieve-users-and-groups-information","/enterprise-features/#using-a-graphql-tool":"/enterprise-features/access-control-lists/#using-a-graphql-tool","/enterprise-features/#access-data-using-a-client":"/enterprise-features/access-control-lists/#access-data-using-a-client","/enterprise-features/#access-data-using-the-graphql-api":"/enterprise-features/access-control-lists/#access-data-using-the-graphql-api","/enterprise-features/#reset-groot-password":"/enterprise-features/access-control-lists/#reset-groot-password","/enterprise-features/#set-up-encryption":"/enterprise-features/encryption-at-rest/#set-up-encryption","/enterprise-features/#turn-on-encryption":"/enterprise-features/encryption-at-rest/#turn-on-encryption","/enterprise-features/#turn-off-encryption":"/enterprise-features/encryption-at-rest/#turn-off-encryption","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/enterprise-features/#change-encryption-key":"/enterprise-features/encryption-at-rest/#change-encryption-key","/howto/#metrics-information":"/howto/retrieving-debug-information/#metrics-information","/howto/#profiling-information":"/howto/retrieving-debug-information/#profiling-information","/howto/#cpu-profile":"/howto/retrieving-debug-information/#cpu-profile","/howto/#memory-profile":"/howto/retrieving-debug-information/#memory-profile","/howto/#block-profile":"/howto/retrieving-debug-information/#block-profile","/howto/#goroutine-stack":"/howto/retrieving-debug-information/#goroutine-stack","/howto/#example-usage":"/howto/using-debug-tool/#example-usage","/howto/#debug-tool-output":"/howto/using-debug-tool/#debug-tool-output","/howto/#key-lookup":"/howto/using-debug-tool/#key-lookup","/howto/#key-history":"/howto/using-debug-tool/#key-history","/howto/#basic-integration":"/howto/dgraph-sentry-integration/#basic-integration","/howto/#data-handling":"/howto/dgraph-sentry-integration/#data-handling","/howto/#example-usage":"/howto/using-increment-tool/#example-usage","/howto/#increment-tool-output":"/howto/using-increment-tool/#increment-tool-output","/howto/#download-zip":"/howto/load-balancing-nginx/#download-zip","/howto/#start-dgraph-cluster":"/howto/load-balancing-nginx/#start-dgraph-cluster","/howto/#use-the-increment-tool-to-start-a-grpc-lb":"/howto/load-balancing-nginx/#use-the-increment-tool-to-start-a-grpc-lb","/howto/#check-logs":"/howto/load-balancing-nginx/#check-logs","/howto/#upsert-procedure":"/howto/upserts/#upsert-procedure","/howto/#upsert-block":"/howto/upserts/#upsert-block","/howto/#conflicts":"/howto/upserts/#conflicts","/howto/#schema-types-scalar-uid-and-list-uid":"/howto/migrate-dgraph-1-1/#schema-types-scalar-uid-and-list-uid","/howto/#type-system":"/howto/migrate-dgraph-1-1/#type-system","/howto/#live-loader-and-bulk-loader-command-line-flags":"/howto/migrate-dgraph-1-1/#live-loader-and-bulk-loader-command-line-flags","/howto/#http-api":"/howto/migrate-dgraph-1-1/#http-api"},urlSplit,origPath,redirectPaths=["clients","query-language","mutations","deploy","enterprise-features","howto","design-concepts"],pathSplit=document.URL.split("/");redirectPaths.includes(pathSplit[pathSplit.length-2])&&(urlSplit=pathSplit[pathSplit.length-1].split("#"),origPath="/"+pathSplit[pathSplit.length-2]+"/#"+urlSplit[1],origPath in subPaths?(loc=""+subPaths[origPath],window.location.replace(loc)):urlSplit[1]&&(loc=""+pathSplit.slice(4,pathSplit.length-1).join("/")+"/#"+urlSplit[1],window.location.replace(loc)))</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=referrer content="no-referrer-when-downgrade"><meta name=generator content="Hugo 0.101.0"><meta name=description content><link rel=canonical href=/clients/java/><link rel=apple-touch-icon sizes=57x57 href=/images/favicons/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/images/favicons/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/images/favicons/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/images/favicons/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/images/favicons/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/images/favicons/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/images/favicons/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/images/favicons/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/images/favicons/favicon-194x194.png sizes=194x194><link rel=icon type=image/png href=/images/favicons/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=manifest href=/images/favicons/manifest.json><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#fe2c06><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/go.min.js></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/java.min.js integrity="sha256-RyOs5MjQ+Ef9DQrPHp4QGr2tcNjxLh6mCkkW+sS4doU=" crossorigin=anonymous></script>
<script src=//code.jquery.com/jquery-3.2.1.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.js integrity="sha256-x3BtPVERvw1ozPlwivuFLZoViFCeAAs1Gt6SxEedmo8=" crossorigin=anonymous></script>
<link href=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.css rel=stylesheet integrity="sha256-7sZe9dsqyNZC9Mk+WPRB7nVvPPPXyorzm2QKqlgXC4k=" crossorigin=anonymous><script async src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/edit/closebrackets.min.js integrity="sha256-qhu2a7DSpQaammMaLw1iruxBpxmgdw8mdQaQWQUokcY=" crossorigin=anonymous></script>
<script async src=//cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/javascript/javascript.min.js integrity="sha256-7Bdg/UdDMmHDPafpQDYZNPCEbnRP7eAvu+2hEoqRCXs=" crossorigin=anonymous></script>
<script>window.DGRAPH_ENDPOINT="https://play.dgraph.io/query?latency=true"</script><title>Java - Clients</title><link href=/css/theme.css?6a79ff0832398fa8541cbaef6b6dd556 rel=stylesheet><link href=/css/runnable.css?46648956d99faa2e057d109b9f2a52e6 rel=stylesheet><link href=/css/tabs.css?035edc32762cb7973b740e3067101ced rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css rel=stylesheet integrity=sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ crossorigin=anonymous><script src=//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js integrity=sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb crossorigin=anonymous></script>
<script src=//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js integrity=sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn crossorigin=anonymous></script>
<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel=stylesheet><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link href=https://cdn.lineicons.com/2.0/LineIcons.css rel=stylesheet crossorigin=anonymous><link rel=stylesheet href=//cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><script>!function(){var t,n,e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(t=0;t<e.methods.length;t++)n=e.methods[t],e[n]=e.factory(n);e.load=function(t,n){var o,s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js",o=document.getElementsByTagName("script")[0],o.parentNode.insertBefore(s,o),e._loadOptions=n},e._writeKey="aQlf725vSBKhpQnINiGBc6rCtFyVCiAP",e.SNIPPET_VERSION="4.13.2",e.load("aQlf725vSBKhpQnINiGBc6rCtFyVCiAP"),e.page(),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll("a");t.forEach(t=>e.trackLink(t,"Click",{id:t.id,to:t.href,text:t.innerText}))})}}()</script></head><body><nav id=header><div class=header-left><div><a href=https://libremfg.com/features-gql class=brand><img src=/images/libre-logo.png alt=libre class=logo></a><div class=logo-tagline><span>Documentation</span></div></div><ul class=menu><li><a>Libre Baas</a></li></ul></div><div class=header-right><div style=margin-top:10px><div class="menu-search align-middle"><div class=menu-search-inner><input type=search class="form-control form-control-sm" id=algolia-doc-search placeholder="Search documentation" aria-label="Search docs" autocomplete=off></div></div></div><div><ul class=menu><li><a href=https://libremfg.com/features-gql target=_blank>Home</a></li><li><a href=https://www.libremfg.com/pricing-gql/ target=_blank>Pricing</a></li><li><a href=https://discord.gg/vtJ7JE4sha target=_blank>Community</a></li><li><a href=https://github.com/libremfg/libremfg.github.io target=_blank>GitHub</a></li></ul></div></div><a href=# id=sidebar-toggle><i class="fa fa-bars"></i></a></nav><aside id=sidebar><div class=menu-header></div><ul class=topics><li class="topic main-topic"><a href=/>Home</a></li><li class="topic main-topic"><a href=/dgraph-overview/>Dgraph Overview</a></li><li class="topic main-topic children"><a id=graphql href=#>GraphQL</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/quick-start/>Quick Start</a></li><li class="topic sub-topic"><a href=/graphql/how-dgraph-graphql-works/>How GraphQL works in Dgraph</a></li><li class="topic sub-topic"><a href=#>To-Do List App Tutorial</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-schema-design/>Schema Design</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-ui/>Creating a Basic UI</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-auth-rules/>Authorization Rules</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-auth0-jwt/>Using Auth0</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/todo-firebase-jwt/>Using Firebase Authentication</a></li><li class="topic sub-topic"><a href=/graphql/todo-app-tutorial/deploy/>Deploying on Dgraph Cloud</a></li></ul></li><li class="topic sub-topic"><a href=#>Authorization</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/authorization/authorization-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/authorization/directive/>The @auth Directive</a></li><li class="topic sub-topic"><a href=/graphql/authorization/mutations/>Mutations</a></li></ul></li><li class="topic sub-topic"><a href=#>API</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/api/api-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/api/requests/>Requests and Responses</a></li><li class="topic sub-topic"><a href=/graphql/api/variables/>GraphQL Variables</a></li><li class="topic sub-topic"><a href=/graphql/api/fragments/>GraphQL Fragments</a></li><li class="topic sub-topic"><a href=/graphql/api/multiples/>Multiple GraphQL Operations in a Request</a></li><li class="topic sub-topic"><a href=/graphql/api/errors/>GraphQL Errors</a></li></ul></li><li class="topic sub-topic"><a href=#>Schema</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/schema/schema-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/schema/reserved/>Reserved Names</a></li><li class="topic sub-topic"><a href=/graphql/schema/migration/>Schema Migration</a></li><li class="topic sub-topic"><a href=/graphql/schema/types/>Types</a></li><li class="topic sub-topic"><a href=/graphql/schema/ids/>IDs</a></li><li class="topic sub-topic"><a href=/graphql/schema/graph-links/>Links in the Graph</a></li><li class="topic sub-topic"><a href=/graphql/schema/search/>Search and Filtering</a></li><li class="topic sub-topic"><a href=/graphql/schema/generate/>The @generate Directive</a></li><li class="topic sub-topic"><a href=/graphql/schema/documentation/>Documentation and Comments</a></li><li class="topic sub-topic"><a href=/graphql/schema/deprecated/>Deprecation</a></li><li class="topic sub-topic"><a href=/graphql/schema/dgraph-schema/>Dgraph Schema Fragment</a></li></ul></li><li class="topic sub-topic"><a href=#>Queries</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/queries/queries-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/queries/search-filtering/>Search and Filtering</a></li><li class="topic sub-topic"><a href=/graphql/queries/aggregate/>Aggregate Queries</a></li><li class="topic sub-topic"><a href=/graphql/queries/persistent-queries/>Persistent Queries</a></li><li class="topic sub-topic"><a href=/graphql/queries/and-or-not/>And, Or and Not</a></li><li class="topic sub-topic"><a href=/graphql/queries/cached-results/>Cached Results</a></li><li class="topic sub-topic"><a href=/graphql/queries/order-page/>Order and Pagination</a></li><li class="topic sub-topic"><a href=/graphql/queries/cascade/>@cascade Directive</a></li><li class="topic sub-topic"><a href=/graphql/queries/skip-include/>@skip and @include Directives</a></li></ul></li><li class="topic sub-topic"><a href=#>Mutations</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/mutations/mutations-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/mutations/add/>Add</a></li><li class="topic sub-topic"><a href=/graphql/mutations/upsert/>Upsert</a></li><li class="topic sub-topic"><a href=/graphql/mutations/update/>Update</a></li><li class="topic sub-topic"><a href=/graphql/mutations/delete/>Delete</a></li><li class="topic sub-topic"><a href=/graphql/mutations/deep/>Deep</a></li></ul></li><li class="topic sub-topic"><a href=/graphql/subscriptions/>Subscriptions</a></li><li class="topic sub-topic"><a href=#>Custom Resolvers</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/custom/custom-overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/custom/directive/>The @custom Directive</a></li><li class="topic sub-topic"><a href=/graphql/custom/query/>Custom Queries</a></li><li class="topic sub-topic"><a href=/graphql/custom/mutation/>Custom Mutations</a></li><li class="topic sub-topic"><a href=/graphql/custom/field/>Custom Fields</a></li><li class="topic sub-topic"><a href=/graphql/custom/dql/>Custom DQL</a></li></ul></li><li class="topic sub-topic"><a href=#>Lambda Resolvers</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/graphql/lambda/overview/>Overview</a></li><li class="topic sub-topic"><a href=/graphql/lambda/field/>Lambda Fields</a></li><li class="topic sub-topic"><a href=/graphql/lambda/query/>Lambda Queries</a></li><li class="topic sub-topic"><a href=/graphql/lambda/mutation/>Lambda Mutations</a></li><li class="topic sub-topic"><a href=/graphql/lambda/webhook/>Lambda Webhooks</a></li><li class="topic sub-topic"><a href=/graphql/lambda/server/>Lambda Server</a></li></ul></li><li class="topic sub-topic"><a href=/graphql/directives/>Directives</a></li><li class="topic sub-topic"><a href=/graphql/admin/>Administrative API</a></li><li class="topic sub-topic"><a href=/graphql/dgraph/>GraphQL on Existing Dgraph</a></li><li class="topic sub-topic"><a href=/graphql/federation/>Apollo Federation</a></li></ul></li><li class="topic main-topic children"><a id=dql href=#>DQL</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/get-started/>Get Started</a></li><li class="topic sub-topic"><a href=/tutorials/>Tutorials</a></li><li class="topic sub-topic"><a href=#>Query Language Reference</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/query-language/graphql-fundamentals/>DQL Fundamentals</a></li><li class="topic sub-topic"><a href=/query-language/functions/>Functions</a></li><li class="topic sub-topic"><a href=/query-language/connecting-filters/>Connecting Filters</a></li><li class="topic sub-topic"><a href=/query-language/alias/>Aliases</a></li><li class="topic sub-topic"><a href=/query-language/pagination/>Pagination in DQL</a></li><li class="topic sub-topic"><a href=/query-language/count/>Count</a></li><li class="topic sub-topic"><a href=/query-language/sorting/>Sorting</a></li><li class="topic sub-topic"><a href=/query-language/multiple-query-blocks/>Multiple Query Blocks</a></li><li class="topic sub-topic"><a href=/query-language/query-variables/>Query Variables</a></li><li class="topic sub-topic"><a href=/query-language/value-variables/>Value Variables</a></li><li class="topic sub-topic"><a href=/query-language/aggregation/>Aggregation</a></li><li class="topic sub-topic"><a href=/query-language/math-on-value-variables/>Math on Value Variables</a></li><li class="topic sub-topic"><a href=/query-language/groupby/>GroupBy</a></li><li class="topic sub-topic"><a href=/query-language/expand-predicates/>Expand Predicates</a></li><li class="topic sub-topic"><a href=/query-language/cascade-directive/>Cascade Directive</a></li><li class="topic sub-topic"><a href=/query-language/normalize-directive/>@normalize Directive</a></li><li class="topic sub-topic"><a href=/query-language/ignorereflex-directive/>@ignorereflex Directive</a></li><li class="topic sub-topic"><a href=/query-language/debug/>Debug</a></li><li class="topic sub-topic"><a href=/query-language/schema/>Schemas in DQL</a></li><li class="topic sub-topic"><a href=/query-language/type-system/>Type System</a></li><li class="topic sub-topic"><a href=/query-language/facets/>Facets and Edge Attributes</a></li><li class="topic sub-topic"><a href=/query-language/kshortest-path-quries/>Shortest Path Queries</a></li><li class="topic sub-topic"><a href=/query-language/recurse-query/>Recurse Query</a></li><li class="topic sub-topic"><a href=/query-language/fragments/>Fragments</a></li><li class="topic sub-topic"><a href=/query-language/graphql-variables/>GraphQL Variables</a></li><li class="topic sub-topic"><a href=/query-language/indexing-custom-tokenizers/>Indexing with Custom Tokenizers</a></li></ul></li><li class="topic sub-topic"><a href=/tips/>Tips and Tricks</a></li><li class="topic sub-topic"><a href=#>Mutations</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/mutations/triples/>Triples</a></li><li class="topic sub-topic"><a href=/mutations/blank-nodes/>Blank Nodes and UIDs</a></li><li class="topic sub-topic"><a href=/mutations/external-ids/>External IDs</a></li><li class="topic sub-topic"><a href=/mutations/external-ids-upsert-block/>External IDs and Upsert Block</a></li><li class="topic sub-topic"><a href=/mutations/language-rdf-types/>Language and RDF Types</a></li><li class="topic sub-topic"><a href=/mutations/batch-mutations/>Batch Mutations</a></li><li class="topic sub-topic"><a href=/mutations/delete/>Delete</a></li><li class="topic sub-topic"><a href=/mutations/facets-in-list-type-with-rdf/>Facet Lists in RDF</a></li><li class="topic sub-topic"><a href=/mutations/mutations-using-curl/>Mutations Using cURL</a></li><li class="topic sub-topic"><a href=/mutations/json-mutation-format/>JSON Mutation Format</a></li><li class="topic sub-topic"><a href=/mutations/upsert-block/>Upsert Blocks</a></li><li class="topic sub-topic"><a href=/mutations/conditional-upsert/>Conditional Upsert</a></li><li class="topic sub-topic"><a href=/mutations/reverse-edges/>Reverse Edges</a></li></ul></li></ul></li><li class="topic main-topic children active"><a id=clients href=#>Clients</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/clients/overview/>Overview</a></li><li class="topic sub-topic"><a href=/clients/go/>Go</a></li><li class="topic sub-topic"><a href=/clients/csharp/>C#</a></li><li class="topic sub-topic active"><a href=/clients/java/>Java</a></li><li class="topic sub-topic"><a href=#>JavaScript</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/clients/javascript/grpc/>gRPC Client</a></li><li class="topic sub-topic"><a href=/clients/javascript/http/>HTTP Client</a></li></ul></li><li class="topic sub-topic"><a href=/clients/python/>Python</a></li><li class="topic sub-topic"><a href=/clients/unofficial-clients/>Unofficial Dgraph Clients</a></li><li class="topic sub-topic"><a href=/clients/raw-http/>Raw HTTP</a></li></ul></li><li class="topic main-topic children"><a id=ratel-ui href=#>Ratel UI</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/ratel/overview/>Ratel Overview</a></li><li class="topic sub-topic"><a href=/ratel/connection/>Connection</a></li><li class="topic sub-topic"><a href=/ratel/console/>Console</a></li><li class="topic sub-topic"><a href=/ratel/schema/>Schema</a></li><li class="topic sub-topic"><a href=/ratel/cluster/>Cluster</a></li><li class="topic sub-topic"><a href=/ratel/backups/>Backups</a></li></ul></li><li class="topic main-topic children"><a id=deploy-and-manage href=#>Deploy and Manage</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/overview/>Deployment and Management Overview</a></li><li class="topic sub-topic"><a href=/deploy/download/>Download Dgraph</a></li><li class="topic sub-topic"><a href=/deploy/config/>Configuration</a></li><li class="topic sub-topic"><a href=/deploy/dgraph-zero/>More about Dgraph Zero</a></li><li class="topic sub-topic"><a href=/deploy/dgraph-alpha/>More about Dgraph Alpha</a></li><li class="topic sub-topic"><a href=/deploy/single-host-setup/>Single Host Setup</a></li><li class="topic sub-topic"><a href=/deploy/multi-host-setup/>Multi-Host Setup</a></li><li class="topic sub-topic"><a href=/deploy/kubernetes/>Using Kubernetes</a></li><li class="topic sub-topic"><a href=/deploy/cluster-setup/>Cluster Setup</a></li><li class="topic sub-topic"><a href=/deploy/cluster-checklist/>Cluster Checklist</a></li><li class="topic sub-topic"><a href=/deploy/production-checklist/>Production Checklist</a></li><li class="topic sub-topic"><a href=#>Administration</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/dgraph-administration/>Dgraph Administration</a></li><li class="topic sub-topic"><a href=/deploy/log-format/>Logging</a></li><li class="topic sub-topic"><a href=/deploy/ludicrous-mode/>Ludicrous Mode</a></li><li class="topic sub-topic"><a href=/deploy/monitoring/>Monitoring</a></li><li class="topic sub-topic"><a href=/deploy/metrics/>Metrics</a></li><li class="topic sub-topic"><a href=/deploy/tracing/>Tracing</a></li><li class="topic sub-topic"><a href=/deploy/data-compression/>Data compression on Disk</a></li></ul></li><li class="topic sub-topic"><a href=#>Fast Data Loading</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/fast-data-loading/overview/>Overview</a></li><li class="topic sub-topic"><a href=/deploy/fast-data-loading/bulk-loader/>Bulk Loader</a></li><li class="topic sub-topic"><a href=/deploy/fast-data-loading/live-loader/>Live Loader</a></li></ul></li><li class="topic sub-topic"><a href=#>Security</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/deploy/ports-usage/>Ports Usage</a></li><li class="topic sub-topic"><a href=/deploy/tls-configuration/>TLS Configuration</a></li></ul></li><li class="topic sub-topic"><a href=/deploy/decrypt/>Data Decryption</a></li><li class="topic sub-topic"><a href=/deploy/cli-command-reference/>Dgraph CLI Reference</a></li><li class="topic sub-topic"><a href=/deploy/troubleshooting/>Troubleshooting</a></li></ul></li><li class="topic main-topic children"><a id=enterprise-features href=#>Enterprise Features</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/enterprise-features/access-control-lists/>Access Control Lists</a></li><li class="topic sub-topic"><a href=/enterprise-features/audit-logs/>Audit Logging</a></li><li class="topic sub-topic"><a href=/enterprise-features/lsbackup/>Backup List Tool</a></li><li class="topic sub-topic"><a href=/enterprise-features/binary-backups/>Binary Backups</a></li><li class="topic sub-topic"><a href=/enterprise-features/change-data-capture/>Change Data Capture</a></li><li class="topic sub-topic"><a href=/enterprise-features/encryption-at-rest/>Encryption at Rest</a></li><li class="topic sub-topic"><a href=/enterprise-features/learner-nodes/>Learner Nodes</a></li><li class="topic sub-topic"><a href=/enterprise-features/license/>License</a></li><li class="topic sub-topic"><a href=/enterprise-features/multitenancy/>Multi-Tenancy</a></li></ul></li><li class="topic main-topic children"><a id=migration href=#>Migration</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/migration/loading-csv-data/>Loading CSV Data</a></li><li class="topic sub-topic"><a href=/migration/migrate-tool/>Migration Tool</a></li><li class="topic sub-topic"><a href=/migration/migrate-dgraph-1-1/>Migrate from Dgraph v1.0</a></li><li class="topic sub-topic"><a href=/migration/dgraph-compared-to-other-databases/>Dgraph Compared to Other Databases</a></li></ul></li><li class="topic main-topic"><a href=/faq/>FAQ</a></li><li class="topic main-topic children"><a id=how-to-guides href=#>How To Guides</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/howto/retrieving-debug-information/>Retrieving Debug Information</a></li><li class="topic sub-topic"><a href=/howto/completion/>Shell Completion</a></li><li class="topic sub-topic"><a href=/howto/using-debug-tool/>Using the Debug Tool</a></li><li class="topic sub-topic"><a href=/howto/dgraph-sentry-integration/>Using the Dgraph Sentry Integration</a></li><li class="topic sub-topic"><a href=/howto/using-increment-tool/>Using the Increment Tool</a></li><li class="topic sub-topic"><a href=/howto/giving-nodes-type/>Giving Nodes a Type</a></li><li class="topic sub-topic"><a href=/howto/login-system/>A Simple Login System</a></li><li class="topic sub-topic"><a href=/howto/load-balancing-nginx/>Load Balancing Queries with NGINX</a></li><li class="topic sub-topic"><a href=/howto/upserts/>Upserts</a></li><li class="topic sub-topic"><a href=/howto/jepsen-tests/>Run Jepsen Tests</a></li><li class="topic sub-topic"><a href=/howto/concurrent-modification-java-multithreaded/>Concurrent mutations and conflicts</a></li><li class="topic sub-topic"><a href=/howto/lambda-webhooks-example/>Lambda Webhooks Example</a></li></ul></li><li class="topic main-topic children"><a id=design-concepts href=#>Design Concepts</a><div class=arrow-down></div><ul class=sub-topics><li class="topic sub-topic"><a href=/design-concepts/transactions-faq/>Transactions: FAQ</a></li><li class="topic sub-topic"><a href=/design-concepts/consistency-model/>Consistency Model</a></li><li class="topic sub-topic"><a href=/design-concepts/concepts/>Concepts</a></li><li class="topic sub-topic"><a href=/design-concepts/minimizing-network-calls/>How Dgraph Minimizes Network Calls</a></li><li class="topic sub-topic"><a href=/design-concepts/raft/>RAFT</a></li></ul></li><li class="topic main-topic"><a href=/releases/>Releases</a></li></ul><ul class=sidebar-menu><li><a href=https://dgraph.io/ target=_blank>Home</a></li><li><a href=https://discuss.dgraph.io/ target=_blank>Community</a></li><li><a href=https://github.com/dgraph-io/dgraph target=_blank>GitHub</a></li></ul></aside><main class=content-wrapper><div class=content><div class=top-toc><nav id=TableOfContents><ul><li><a href=#supported-versions>Supported Versions</a></li><li><a href=#quickstart>Quickstart</a></li><li><a href=#intro>Intro</a></li><li><a href=#using-the-synchronous-client>Using the Synchronous Client</a><ul><li><a href=#creating-a-client>Creating a Client</a></li><li><a href=#login-using-acl>Login using ACL</a></li><li><a href=#multi-tenancy>Multi-tenancy</a></li><li><a href=#creating-a-client-for-dgraph-cloud-endpoint>Creating a Client for Dgraph Cloud Endpoint</a></li><li><a href=#creating-a-secure-client-using-tls>Creating a Secure Client using TLS</a></li><li><a href=#check-dgraph-version>Check Dgraph version</a></li><li><a href=#altering-the-database>Altering the Database</a></li><li><a href=#creating-a-transaction>Creating a Transaction</a></li><li><a href=#running-a-mutation>Running a Mutation</a></li><li><a href=#committing-a-transaction>Committing a Transaction</a></li><li><a href=#running-a-query>Running a Query</a></li><li><a href=#running-a-query-with-rdf-response>Running a Query with RDF response</a></li><li><a href=#running-an-upsert-query--mutation>Running an Upsert: Query + Mutation</a></li><li><a href=#running-a-conditional-upsert>Running a Conditional Upsert</a></li><li><a href=#setting-deadlines>Setting Deadlines</a></li><li><a href=#setting-metadata-headers>Setting Metadata Headers</a></li><li><a href=#helper-methods>Helper Methods</a><ul><li><a href=#delete-multiple-edges>Delete multiple edges</a></li></ul></li><li><a href=#closing-the-db-connection>Closing the DB Connection</a></li></ul></li><li><a href=#using-the-asynchronous-client>Using the Asynchronous Client</a></li><li><a href=#checking-the-request-latency>Checking the request latency</a></li></ul></nav></div><article><a class=question-btn target=_blank href=https://discuss.dgraph.io/c/docs/49><i class="fa fa-question-circle"></i> Ask a Question</a><h1 class=post-title>Java</h1><div><p>A minimal implementation for a Dgraph client for Java 1.8 and above, using <a href=https://grpc.io/>gRPC</a>.
This client follows the <a href=/clients/go/>Dgraph Go client</a> closely.</p><div class="notices tip"><span class=type>Tip</span> The official Java client <a href=https://github.com/dgraph-io/dgraph4j>can be found here</a>.
Follow the <a href=https://github.com/dgraph-io/dgraph4j#download>install instructions</a> to get it up and running.</div><h2 id=supported-versions>Supported Versions</h2><p>More details on the supported versions can be found at <a href=https://github.com/dgraph-io/dgraph4j#supported-versions>this link</a>.</p><h2 id=quickstart>Quickstart</h2><p>Build and run the <a href=https://github.com/dgraph-io/dgraph4j/tree/master/samples/DgraphJavaSample>DgraphJavaSample</a> project in the <code>samples</code> folder, which
contains an end-to-end example of using the Dgraph Java client. Follow the
instructions in the <a href=https://github.com/dgraph-io/dgraph4j/tree/master/samples/DgraphJavaSample/README.md>README</a> of that project.</p><h2 id=intro>Intro</h2><p>This library supports two styles of clients, the synchronous client <code>DgraphClient</code> and
the async client <code>DgraphAsyncClient</code>.
A <code>DgraphClient</code> or <code>DgraphAsyncClient</code> can be initialized by passing it
a list of <code>DgraphBlockingStub</code> clients. The <code>anyClient()</code> API can randomly pick a stub, which can
then be used for GRPC operations. In the next section, we will explain how to create a
synchronous client and use it to mutate or query dgraph. For the async client, more details can
be found in the <a href=#using-the-asynchronous-client>Using the Asynchronous Client</a> section.</p><h2 id=using-the-synchronous-client>Using the Synchronous Client</h2><div class="notices tip"><span class=type>Tip</span> You can find a <a href=https://github.com/dgraph-io/dgraph4j/tree/master/samples/DgraphJavaSample>DgraphJavaSample</a> project,
which contains an end-to-end working example of how to use the Java client.</div><h3 id=creating-a-client>Creating a Client</h3><p>The following code snippet shows how to create a synchronous client using three connections.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>ManagedChannel channel1 = ManagedChannelBuilder
</span></span><span style=display:flex><span>    .forAddress(<span style=color:#a31515>&#34;localhost&#34;</span>, 9080)
</span></span><span style=display:flex><span>    .usePlaintext().build();
</span></span><span style=display:flex><span>DgraphStub stub1 = DgraphGrpc.newStub(channel1);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ManagedChannel channel2 = ManagedChannelBuilder
</span></span><span style=display:flex><span>    .forAddress(<span style=color:#a31515>&#34;localhost&#34;</span>, 9082)
</span></span><span style=display:flex><span>    .usePlaintext().build();
</span></span><span style=display:flex><span>DgraphStub stub2 = DgraphGrpc.newStub(channel2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ManagedChannel channel3 = ManagedChannelBuilder
</span></span><span style=display:flex><span>    .forAddress(<span style=color:#a31515>&#34;localhost&#34;</span>, 9083)
</span></span><span style=display:flex><span>    .usePlaintext().build();
</span></span><span style=display:flex><span>DgraphStub stub3 = DgraphGrpc.newStub(channel3);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DgraphClient dgraphClient = <span style=color:#00f>new</span> DgraphClient(stub1, stub2, stub3);
</span></span></code></pre></div><h3 id=login-using-acl>Login using ACL</h3><p>If <a href=/enterprise-features/access-control-lists/>ACL</a> is enabled then you can log-in to the default namespace (<code>0</code>) with the following method:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>dgraphClient.login(USER_ID, USER_PASSWORD);
</span></span></code></pre></div><h3 id=multi-tenancy>Multi-tenancy</h3><p>If <a href=/enterprise-features/multitenancy/>multi-tenancy</a> is enabled, by default the login method on client will login into the namespace <code>0</code>.
In order to login into some other namespace, use the <code>loginIntoNamespace</code> method on the client:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>dgraphClient.loginIntoNamespace(USER_ID, USER_PASSWORD, NAMESPACE);
</span></span></code></pre></div><p>Once logged-in, the <code>dgraphClient</code> object can be used to do any further operations.</p><h3 id=creating-a-client-for-dgraph-cloud-endpoint>Creating a Client for Dgraph Cloud Endpoint</h3><p>If you want to connect to Dgraph running on your <a href=https://cloud.dgraph.io>Dgraph Cloud</a> instance, then all you need is the URL of your Dgraph Cloud endpoint and the API key. You can get a client using them as follows :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>DgraphStub stub = DgraphClient.clientStubFromCloudEndpoint(<span style=color:#a31515>&#34;https://civic-wine.us-west-2.aws.cloud.dgraph.io/graphql&#34;</span>, <span style=color:#a31515>&#34;your-api-key&#34;</span>);
</span></span><span style=display:flex><span>DgraphClient dgraphClient = <span style=color:#00f>new</span> DgraphClient(stub);
</span></span></code></pre></div><div class="notices note"><span class=type>Note</span> The <code>DgraphClient.clientStubFromSlashEndpoint()</code> method has been deprecated and will be removed in v21.07. Please use <code>DgraphClient.clientStubFromCloudEndpoint()</code> instead.</div><h3 id=creating-a-secure-client-using-tls>Creating a Secure Client using TLS</h3><p>To setup a client using TLS, you could use the following code snippet. The server needs to be
setup using the instructions provided <a href=https://docs.dgraph.io/deploy/#tls-configuration>here</a>.</p><p>If you are doing client verification, you need to convert the client key from PKCS#1 format to
PKCS#8 format. By default, grpc doesn&rsquo;t support reading PKCS#1 format keys. To convert the
format, you could use the <code>openssl</code> tool.</p><p>First, let&rsquo;s install the <code>openssl</code> tool:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>apt install openssl
</span></span></code></pre></div><p>Now, use the following command to convert the key:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>openssl pkcs8 -in client.name.key -topk8 -nocrypt -out client.name.java.key
</span></span></code></pre></div><p>Now, you can use the following code snippet to connect to Alpha over TLS:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>SslContextBuilder builder = GrpcSslContexts.forClient();
</span></span><span style=display:flex><span>builder.trustManager(<span style=color:#00f>new</span> File(<span style=color:#a31515>&#34;&lt;path to ca.crt&gt;&#34;</span>));
</span></span><span style=display:flex><span><span style=color:green>// Skip the next line if you are not performing client verification.
</span></span></span><span style=display:flex><span><span style=color:green></span>builder.keyManager(<span style=color:#00f>new</span> File(<span style=color:#a31515>&#34;&lt;path to client.name.crt&gt;&#34;</span>), <span style=color:#00f>new</span> File(<span style=color:#a31515>&#34;&lt;path to client.name.java.key&gt;&#34;</span>));
</span></span><span style=display:flex><span>SslContext sslContext = builder.build();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ManagedChannel channel = NettyChannelBuilder.forAddress(<span style=color:#a31515>&#34;localhost&#34;</span>, 9080)
</span></span><span style=display:flex><span>    .sslContext(sslContext)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>DgraphGrpc.DgraphStub stub = DgraphGrpc.newStub(channel);
</span></span><span style=display:flex><span>DgraphClient dgraphClient = <span style=color:#00f>new</span> DgraphClient(stub);
</span></span></code></pre></div><h3 id=check-dgraph-version>Check Dgraph version</h3><p>Checking the version of the Dgraph server this client is interacting with is as easy as:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Version v = dgraphClient.checkVersion();
</span></span><span style=display:flex><span>System.out.println(v.getTag());
</span></span></code></pre></div><p>Checking the version, before doing anything else can be used as a test to find out if the client
is able to communicate with the Dgraph server. This will also help reduce the latency of the first
query/mutation which results from some dynamic library loading and linking that happens in JVM
(see <a href=https://github.com/dgraph-io/dgraph4j/issues/108>this issue</a> for more details).</p><h3 id=altering-the-database>Altering the Database</h3><p>To set the schema, create an <code>Operation</code> object, set the schema and pass it to
<code>DgraphClient#alter</code> method.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String schema = <span style=color:#a31515>&#34;name: string @index(exact) .&#34;</span>;
</span></span><span style=display:flex><span>Operation operation = Operation.newBuilder().setSchema(schema).build();
</span></span><span style=display:flex><span>dgraphClient.alter(operation);
</span></span></code></pre></div><p>Starting Dgraph version 20.03.0, indexes can be computed in the background.
You can call the function <code>setRunInBackground(true)</code> as shown below before
calling <code>alter</code>. You can find more details
<a href=https://docs.dgraph.io/master/query-language/#indexes-in-background>here</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String schema = <span style=color:#a31515>&#34;name: string @index(exact) .&#34;</span>;
</span></span><span style=display:flex><span>Operation operation = Operation.newBuilder()
</span></span><span style=display:flex><span>        .setSchema(schema)
</span></span><span style=display:flex><span>        .setRunInBackground(<span style=color:#00f>true</span>)
</span></span><span style=display:flex><span>        .build();
</span></span><span style=display:flex><span>dgraphClient.alter(operation);
</span></span></code></pre></div><p><code>Operation</code> contains other fields as well, including drop predicate and
drop all. Drop all is useful if you wish to discard all the data, and start from
a clean slate, without bringing the instance down.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// Drop all data including schema from the dgraph instance. This is useful
</span></span></span><span style=display:flex><span><span style=color:green>// for small examples such as this, since it puts dgraph into a clean
</span></span></span><span style=display:flex><span><span style=color:green>// state.
</span></span></span><span style=display:flex><span><span style=color:green></span>dgraphClient.alter(Operation.newBuilder().setDropAll(<span style=color:#00f>true</span>).build());
</span></span></code></pre></div><h3 id=creating-a-transaction>Creating a Transaction</h3><p>There are two types of transactions in dgraph, i.e. the read-only transactions that only include
queries and the transactions that change data in dgraph with mutate operations. Both the
synchronous client <code>DgraphClient</code> and the async client <code>DgraphAsyncClient</code> support the two types
of transactions by providing the <code>newTransaction</code> and the <code>newReadOnlyTransaction</code> APIs. Creating
a transaction is a local operation and incurs no network overhead.</p><p>In most of the cases, the normal read-write transactions is used, which can have any
number of query or mutate operations. However, if a transaction only has queries, you might
benefit from a read-only transaction, which can share the same read timestamp across multiple
such read-only transactions and can result in lower latencies.</p><p>For normal read-write transactions, it is a good practice to call <code>Transaction#discard()</code> in a
<code>finally</code> block after running the transaction. Calling <code>Transaction#discard()</code> after
<code>Transaction#commit()</code> is a no-op and you can call <code>discard()</code> multiple times with no additional
side-effects.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Transaction txn = dgraphClient.newTransaction();
</span></span><span style=display:flex><span><span style=color:#00f>try</span> {
</span></span><span style=display:flex><span>    <span style=color:green>// Do something here
</span></span></span><span style=display:flex><span><span style=color:green></span>    <span style=color:green>// ...
</span></span></span><span style=display:flex><span><span style=color:green></span>} <span style=color:#00f>finally</span> {
</span></span><span style=display:flex><span>    txn.discard();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>For read-only transactions, there is no need to call <code>Transaction.discard</code>, which is equivalent
to a no-op.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Transaction readOnlyTxn = dgraphClient.newReadOnlyTransaction();
</span></span></code></pre></div><p>Read-only transactions can be set as best-effort. Best-effort queries relax the requirement of
linearizable reads. This is useful when running queries that do not require a result from the latest
timestamp.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Transaction bestEffortTxn = dgraphClient.newReadOnlyTransaction()
</span></span><span style=display:flex><span>    .setBestEffort(<span style=color:#00f>true</span>);
</span></span></code></pre></div><h3 id=running-a-mutation>Running a Mutation</h3><p><code>Transaction#mutate</code> runs a mutation. It takes in a <code>Mutation</code> object,
which provides two main ways to set data: JSON and RDF N-Quad. You can choose
whichever way is convenient.</p><p>We&rsquo;re going to use JSON. First we define a <code>Person</code> class to represent a person.
This data will be serialized into JSON.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#00f>class</span> <span style=color:#2b91af>Person</span> {
</span></span><span style=display:flex><span>    String name
</span></span><span style=display:flex><span>    Person() {}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Next, we initialize a <code>Person</code> object, serialize it and use it in <code>Mutation</code> object.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// Create data
</span></span></span><span style=display:flex><span><span style=color:green></span>Person person = <span style=color:#00f>new</span> Person();
</span></span><span style=display:flex><span>person.name = <span style=color:#a31515>&#34;Alice&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// Serialize it
</span></span></span><span style=display:flex><span><span style=color:green></span>Gson gson = <span style=color:#00f>new</span> Gson();
</span></span><span style=display:flex><span>String json = gson.toJson(person);
</span></span><span style=display:flex><span><span style=color:green>// Run mutation
</span></span></span><span style=display:flex><span><span style=color:green></span>Mutation mu = Mutation.newBuilder()
</span></span><span style=display:flex><span>    .setSetJson(ByteString.copyFromUtf8(json.toString()))
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>txn.mutate(mu);
</span></span></code></pre></div><p>Sometimes, you only want to commit mutation, without querying anything further.
In such cases, you can use a <code>CommitNow</code> field in <code>Mutation</code> object to
indicate that the mutation must be immediately committed.</p><p>Mutation can be run using the <code>doRequest</code> function as well.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Request request = Request.newBuilder()
</span></span><span style=display:flex><span>    .addMutations(mu)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>txn.doRequest(request);
</span></span></code></pre></div><h3 id=committing-a-transaction>Committing a Transaction</h3><p>A transaction can be committed using the <code>Transaction#commit()</code> method. If your transaction
consisted solely of calls to <code>Transaction#query()</code>, and no calls to <code>Transaction#mutate()</code>,
then calling <code>Transaction#commit()</code> is not necessary.</p><p>An error will be returned if other transactions running concurrently modify the same data that was
modified in this transaction. It is up to the user to retry transactions when they fail.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Transaction txn = dgraphClient.newTransaction();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00f>try</span> {
</span></span><span style=display:flex><span>    <span style=color:green>// …
</span></span></span><span style=display:flex><span><span style=color:green></span>    <span style=color:green>// Perform any number of queries and mutations
</span></span></span><span style=display:flex><span><span style=color:green></span>    <span style=color:green>// …
</span></span></span><span style=display:flex><span><span style=color:green></span>    <span style=color:green>// and finally …
</span></span></span><span style=display:flex><span><span style=color:green></span>    txn.commit()
</span></span><span style=display:flex><span>} <span style=color:#00f>catch</span> (TxnConflictException ex) {
</span></span><span style=display:flex><span>    <span style=color:green>// Retry or handle exception.
</span></span></span><span style=display:flex><span><span style=color:green></span>} <span style=color:#00f>finally</span> {
</span></span><span style=display:flex><span>    <span style=color:green>// Clean up. Calling this after txn.commit() is a no-op
</span></span></span><span style=display:flex><span><span style=color:green></span>    <span style=color:green>// and hence safe.
</span></span></span><span style=display:flex><span><span style=color:green></span>    txn.discard();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=running-a-query>Running a Query</h3><p>You can run a query by calling <code>Transaction#query()</code>. You will need to pass in a GraphQL+-
query string, and a map (optional, could be empty) of any variables that you might want to
set in the query.</p><p>The response would contain a <code>JSON</code> field, which has the JSON encoded result. You will need
to decode it before you can do anything useful with it.</p><p>Let’s run the following query:</p><pre tabindex=0><code>query all($a: string) {
  all(func: eq(name, $a)) {
            name
  }
}
</code></pre><p>First we must create a <code>People</code> class that will help us deserialize the JSON result:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#00f>class</span> <span style=color:#2b91af>People</span> {
</span></span><span style=display:flex><span>    List&lt;Person&gt; all;
</span></span><span style=display:flex><span>    People() {}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then we run the query, deserialize the result and print it out:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// Query
</span></span></span><span style=display:flex><span><span style=color:green></span>String query =
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;query all($a: string){\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;  all(func: eq(name, $a)) {\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;    name\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;  }\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;}\n&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Map&lt;String, String&gt; vars = Collections.singletonMap(<span style=color:#a31515>&#34;$a&#34;</span>, <span style=color:#a31515>&#34;Alice&#34;</span>);
</span></span><span style=display:flex><span>Response response = dgraphClient.newReadOnlyTransaction().queryWithVars(query, vars);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// Deserialize
</span></span></span><span style=display:flex><span><span style=color:green></span>People ppl = gson.fromJson(response.getJson().toStringUtf8(), People.class);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// Print results
</span></span></span><span style=display:flex><span><span style=color:green></span>System.out.printf(<span style=color:#a31515>&#34;people found: %d\n&#34;</span>, ppl.all.size());
</span></span><span style=display:flex><span>ppl.all.forEach(person -&gt; System.out.println(person.name));
</span></span></code></pre></div><p>This should print:</p><pre tabindex=0><code>people found: 1
Alice
</code></pre><p>You can also use <code>doRequest</code> function to run the query.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Request request = Request.newBuilder()
</span></span><span style=display:flex><span>    .setQuery(query)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>txn.doRequest(request);
</span></span></code></pre></div><h3 id=running-a-query-with-rdf-response>Running a Query with RDF response</h3><p>You can get query results as an RDF response by calling either <code>queryRDF()</code> or <code>queryRDFWithVars()</code>.
The response contains the <code>getRdf()</code> method, which will provide the RDF encoded output.</p><p><strong>Note</strong>: If you are querying for <code>uid</code> values only, use a JSON format response</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// Query
</span></span></span><span style=display:flex><span><span style=color:green></span>String query = <span style=color:#a31515>&#34;query me($a: string) { me(func: eq(name, $a)) { name }}&#34;</span>;
</span></span><span style=display:flex><span>Map&lt;String, String&gt; vars = Collections.singletonMap(<span style=color:#a31515>&#34;$a&#34;</span>, <span style=color:#a31515>&#34;Alice&#34;</span>);
</span></span><span style=display:flex><span>Response response =
</span></span><span style=display:flex><span>    dgraphAsyncClient.newReadOnlyTransaction().queryRDFWithVars(query, vars).join();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// Print results
</span></span></span><span style=display:flex><span><span style=color:green></span>System.out.println(response.getRdf().toStringUtf8());
</span></span></code></pre></div><p>This should print (assuming Alice&rsquo;s <code>uid</code> is <code>0x2</code>):</p><pre tabindex=0><code>&lt;0x2&gt; &lt;name&gt; &#34;Alice&#34; .
</code></pre><h3 id=running-an-upsert-query--mutation>Running an Upsert: Query + Mutation</h3><p>The <code>txn.doRequest</code> function allows you to run upserts consisting of one query and
one mutation. Variables can be defined in the query and used in the mutation.
You could also use <code>txn.doRequest</code> to perform a query followed by a mutation.</p><p>To know more about upsert, we highly recommend going through the docs at
<a href=https://docs.dgraph.io/mutations/#upsert-block>https://docs.dgraph.io/mutations/#upsert-block</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String query = <span style=color:#a31515>&#34;query {\n&#34;</span> +
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;user as var(func: eq(email, \&#34;wrong_email@dgraph.io\&#34;))\n&#34;</span> +
</span></span><span style=display:flex><span>  <span style=color:#a31515>&#34;}\n&#34;</span>;
</span></span><span style=display:flex><span>Mutation mu = Mutation.newBuilder()
</span></span><span style=display:flex><span>    .setSetNquads(ByteString.copyFromUtf8(<span style=color:#a31515>&#34;uid(user) &lt;email&gt; \&#34;correct_email@dgraph.io\&#34; .&#34;</span>))
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>Request request = Request.newBuilder()
</span></span><span style=display:flex><span>    .setQuery(query)
</span></span><span style=display:flex><span>    .addMutations(mu)
</span></span><span style=display:flex><span>    .setCommitNow(<span style=color:#00f>true</span>)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>txn.doRequest(request);
</span></span></code></pre></div><h3 id=running-a-conditional-upsert>Running a Conditional Upsert</h3><p>The upsert block also allows specifying a conditional mutation block using an <code>@if</code> directive. The mutation is executed
only when the specified condition is true. If the condition is false, the mutation is silently ignored.</p><p>See more about Conditional Upsert <a href=https://docs.dgraph.io/mutations/#conditional-upsert>Here</a>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>String query = <span style=color:#a31515>&#34;query {\n&#34;</span> +
</span></span><span style=display:flex><span>    <span style=color:#a31515>&#34;user as var(func: eq(email, \&#34;wrong_email@dgraph.io\&#34;))\n&#34;</span> +
</span></span><span style=display:flex><span>    <span style=color:#a31515>&#34;}\n&#34;</span>;
</span></span><span style=display:flex><span>Mutation mu = Mutation.newBuilder()
</span></span><span style=display:flex><span>    .setSetNquads(ByteString.copyFromUtf8(<span style=color:#a31515>&#34;uid(user) &lt;email&gt; \&#34;correct_email@dgraph.io\&#34; .&#34;</span>))
</span></span><span style=display:flex><span>    .setCond(<span style=color:#a31515>&#34;@if(eq(len(user), 1))&#34;</span>)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>Request request = Request.newBuilder()
</span></span><span style=display:flex><span>    .setQuery(query)
</span></span><span style=display:flex><span>    .addMutations(mu)
</span></span><span style=display:flex><span>    .setCommitNow(<span style=color:#00f>true</span>)
</span></span><span style=display:flex><span>    .build();
</span></span><span style=display:flex><span>txn.doRequest(request);
</span></span></code></pre></div><h3 id=setting-deadlines>Setting Deadlines</h3><p>It is recommended that you always set a deadline for each client call, after
which the client terminates. This is in line with the recommendation for any gRPC client.
Read <a href=https://discuss.dgraph.io/t/dgraph-java-client-setting-deadlines-per-call/3056>this forum post</a> for more details.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>channel = ManagedChannelBuilder.forAddress(<span style=color:#a31515>&#34;localhost&#34;</span>, 9080).usePlaintext(<span style=color:#00f>true</span>).build();
</span></span><span style=display:flex><span>DgraphGrpc.DgraphStub stub = DgraphGrpc.newStub(channel);
</span></span><span style=display:flex><span>ClientInterceptor timeoutInterceptor = <span style=color:#00f>new</span> ClientInterceptor(){
</span></span><span style=display:flex><span>    @Override
</span></span><span style=display:flex><span>    <span style=color:#00f>public</span> &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(
</span></span><span style=display:flex><span>            MethodDescriptor&lt;ReqT, RespT&gt; method, CallOptions callOptions, Channel next) {
</span></span><span style=display:flex><span>        <span style=color:#00f>return</span> next.newCall(method, callOptions.withDeadlineAfter(500, TimeUnit.MILLISECONDS));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>stub.withInterceptors(timeoutInterceptor);
</span></span><span style=display:flex><span>DgraphClient dgraphClient = <span style=color:#00f>new</span> DgraphClient(stub);
</span></span></code></pre></div><h3 id=setting-metadata-headers>Setting Metadata Headers</h3><p>Certain headers such as authentication tokens need to be set globally for all subsequent calls.
Below is an example of setting a header with the name &ldquo;auth-token&rdquo;:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// create the stub first
</span></span></span><span style=display:flex><span><span style=color:green></span>ManagedChannel channel =
</span></span><span style=display:flex><span>ManagedChannelBuilder.forAddress(TEST_HOSTNAME, TEST_PORT).usePlaintext(<span style=color:#00f>true</span>).build();
</span></span><span style=display:flex><span>DgraphStub stub = DgraphGrpc.newStub(channel);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// use MetadataUtils to augment the stub with headers
</span></span></span><span style=display:flex><span><span style=color:green></span>Metadata metadata = <span style=color:#00f>new</span> Metadata();
</span></span><span style=display:flex><span>metadata.put(
</span></span><span style=display:flex><span>        Metadata.Key.of(<span style=color:#a31515>&#34;auth-token&#34;</span>, Metadata.ASCII_STRING_MARSHALLER), <span style=color:#a31515>&#34;the-auth-token-value&#34;</span>);
</span></span><span style=display:flex><span>stub = MetadataUtils.attachHeaders(stub, metadata);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// create the DgraphClient wrapper around the stub
</span></span></span><span style=display:flex><span><span style=color:green></span>DgraphClient dgraphClient = <span style=color:#00f>new</span> DgraphClient(stub);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green>// trigger a RPC call using the DgraphClient
</span></span></span><span style=display:flex><span><span style=color:green></span>dgraphClient.alter(Operation.newBuilder().setDropAll(<span style=color:#00f>true</span>).build());
</span></span></code></pre></div><h3 id=helper-methods>Helper Methods</h3><h4 id=delete-multiple-edges>Delete multiple edges</h4><p>The example below uses the helper method <code>Helpers#deleteEdges</code> to delete
multiple edges corresponding to predicates on a node with the given uid.
The helper method takes an existing mutation, and returns a new mutation
with the deletions applied.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Mutation mu = Mutation.newBuilder().build()
</span></span><span style=display:flex><span>mu = Helpers.deleteEdges(mu, uid, <span style=color:#a31515>&#34;friends&#34;</span>, <span style=color:#a31515>&#34;loc&#34;</span>);
</span></span><span style=display:flex><span>dgraphClient.newTransaction().mutate(mu);
</span></span></code></pre></div><h3 id=closing-the-db-connection>Closing the DB Connection</h3><p>To disconnect from Dgraph, call <code>ManagedChannel#shutdown</code> on the gRPC
channel object created when <a href=#creating-a-client>creating a Dgraph
client</a>.</p><pre tabindex=0><code>channel.shutdown();
</code></pre><h2 id=using-the-asynchronous-client>Using the Asynchronous Client</h2><p>Dgraph Client for Java also bundles an asynchronous API, which can be used by
instantiating the <code>DgraphAsyncClient</code> class. The usage is almost exactly the
same as the <code>DgraphClient</code> (show in previous section) class. The main
differences is that the <code>DgraphAsyncClient#newTransacation()</code> returns an
<code>AsyncTransaction</code> class. The API for <code>AsyncTransaction</code> is exactly
<code>Transaction</code>. The only difference is that instead of returning the results
directly, it returns immediately with a corresponding <code>CompletableFuture&lt;T></code>
object. This object represents the computation which runs asynchronously to
yield the result in the future. Read more about <code>CompletableFuture&lt;T></code> in the
<a href=https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html>Java 8 documentation</a>.</p><p>Here is the asynchronous version of the code above, which runs a query.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:green>// Query
</span></span></span><span style=display:flex><span><span style=color:green></span>String query = 
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;query all($a: string){\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;  all(func: eq(name, $a)) {\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;    name\n&#34;</span> +
</span></span><span style=display:flex><span> <span style=color:#a31515>&#34;}\n&#34;</span> +
</span></span><span style=display:flex><span><span style=color:#a31515>&#34;}\n&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Map&lt;String, String&gt; vars = Collections.singletonMap(<span style=color:#a31515>&#34;$a&#34;</span>, <span style=color:#a31515>&#34;Alice&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>AsyncTransaction txn = dgraphAsyncClient.newTransaction();
</span></span><span style=display:flex><span>txn.query(query).thenAccept(response -&gt; {
</span></span><span style=display:flex><span>    <span style=color:green>// Deserialize
</span></span></span><span style=display:flex><span><span style=color:green></span>    People ppl = gson.fromJson(res.getJson().toStringUtf8(), People.class);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:green>// Print results
</span></span></span><span style=display:flex><span><span style=color:green></span>    System.out.printf(<span style=color:#a31515>&#34;people found: %d\n&#34;</span>, ppl.all.size());
</span></span><span style=display:flex><span>    ppl.all.forEach(person -&gt; System.out.println(person.name));
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=checking-the-request-latency>Checking the request latency</h2><p>If you would like to see the latency for either a mutation or
query request, the latency field in the returned result can be helpful. Here is an example to log
the latency of a query request:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Response resp = txn.query(query);
</span></span><span style=display:flex><span>Latency latency = resp.getLatency();
</span></span><span style=display:flex><span>logger.info(<span style=color:#a31515>&#34;parsing latency:&#34;</span> + latency.getParsingNs());
</span></span><span style=display:flex><span>logger.info(<span style=color:#a31515>&#34;processing latency:&#34;</span> + latency.getProcessingNs());
</span></span><span style=display:flex><span>logger.info(<span style=color:#a31515>&#34;encoding latency:&#34;</span> + latency.getEncodingNs());
</span></span></code></pre></div><p>Similarly you can get the latency of a mutation request:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>Assigned assignedIds = dgraphClient.newTransaction().mutate(mu);
</span></span><span style=display:flex><span>Latency latency = assignedIds.getLatency();
</span></span></code></pre></div></div><div class=post__comments><footer class=clearfix><a target=_blank href=https://discuss.dgraph.io><img class=logo src=https://discuss-dgraph-io.s3.dualstack.us-west-1.amazonaws.com/original/2X/4/4167dff901e0bed240f529edd1d9f318462968f8.png></a>
<a class=question-btn target=_blank href=https://discuss.dgraph.io/c/docs/49><i class="fa fa-question-circle"></i> Ask a Question</a>
<a class=edit-btn target=_blank href=https://github.com/dgraph-io/librebaas-docs/edit/master/content/clients/java.md><i class="fa fa-github-alt"></i> Edit Page</a></footer></div></article><div class=right-toc><nav id=TableOfContents><ul><li><a href=#supported-versions>Supported Versions</a></li><li><a href=#quickstart>Quickstart</a></li><li><a href=#intro>Intro</a></li><li><a href=#using-the-synchronous-client>Using the Synchronous Client</a><ul><li><a href=#creating-a-client>Creating a Client</a></li><li><a href=#login-using-acl>Login using ACL</a></li><li><a href=#multi-tenancy>Multi-tenancy</a></li><li><a href=#creating-a-client-for-dgraph-cloud-endpoint>Creating a Client for Dgraph Cloud Endpoint</a></li><li><a href=#creating-a-secure-client-using-tls>Creating a Secure Client using TLS</a></li><li><a href=#check-dgraph-version>Check Dgraph version</a></li><li><a href=#altering-the-database>Altering the Database</a></li><li><a href=#creating-a-transaction>Creating a Transaction</a></li><li><a href=#running-a-mutation>Running a Mutation</a></li><li><a href=#committing-a-transaction>Committing a Transaction</a></li><li><a href=#running-a-query>Running a Query</a></li><li><a href=#running-a-query-with-rdf-response>Running a Query with RDF response</a></li><li><a href=#running-an-upsert-query--mutation>Running an Upsert: Query + Mutation</a></li><li><a href=#running-a-conditional-upsert>Running a Conditional Upsert</a></li><li><a href=#setting-deadlines>Setting Deadlines</a></li><li><a href=#setting-metadata-headers>Setting Metadata Headers</a></li><li><a href=#helper-methods>Helper Methods</a><ul><li><a href=#delete-multiple-edges>Delete multiple edges</a></li></ul></li><li><a href=#closing-the-db-connection>Closing the DB Connection</a></li></ul></li><li><a href=#using-the-asynchronous-client>Using the Asynchronous Client</a></li><li><a href=#checking-the-request-latency>Checking the request latency</a></li></ul></nav></div></div></main><div class="modal fade" id=runnable-modal tabindex=-1 role=dialog aria-labelledby=exampleModalLabel aria-hidden=true><a href=# data-dismiss=modal class=modal-close-btn>Close</a><div class=modal-dialog role=document><div class=modal-content><div class=modal-body></div></div></div></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script>
<script type=text/javascript>if(window.docsearch){var version="latest",path=window.location.pathname,arr=/(?:\/)?((?:master)|(?:v[0-9][^/]+))(?:\/)?.*$/.exec(path);arr!=null&&arr.length>1&&(version=arr[1]),window.docsearch({apiKey:"fe4cbc1640c6c87bbc5f099902d86f97",indexName:"dgraph",inputSelector:"#algolia-doc-search",algoliaOptions:{filters:`version:${version}`},debug:!1})}</script><script type=text/javascript>adroll_adv_id="L42C3U2UXBBPVAMISVXVLC",adroll_pix_id="MOR4VUNPK5B2LHEZ2NNTDX",adroll_version="2.0",function(e,t,n,s,o){e.__adroll_loaded=!0,e.adroll=e.adroll||[],e.adroll.f=["setProperties","identify","track"];var i="https://s.adroll.com/j/"+adroll_adv_id+"/roundtrip.js";for(o=0;o<e.adroll.f.length;o++)e.adroll[e.adroll.f[o]]=e.adroll[e.adroll.f[o]]||function(t){return function(){e.adroll.push([t,arguments])}}(e.adroll.f[o]);n=t.createElement("script"),s=t.getElementsByTagName("script")[0],n.async=1,n.src=i,s.parentNode.insertBefore(n,s)}(window,document),adroll.track("pageView")</script><script src=/js/clipboard.min.js></script>
<script src=/js/dgraph.js?a9873668f1334ff6c49d4edea0a4bc38></script>
<script src=/js/runnable.js?6e7f328df4134d18ba5c8dd11f84deb8></script>
<script>hljs.initHighlightingOnLoad()</script><script async src=//unpkg.com/@dgraph-io/community></script>
<script src=https://cdn.ranksci.com/dgraph-411505.min.js type=text/javascript></script></body></html>